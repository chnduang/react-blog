(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{358:function(e,t,n){"use strict";n.r(t);var a=n(4),v=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"ä¸€æ–‡åƒé€reactäº‹ä»¶åŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€æ–‡åƒé€reactäº‹ä»¶åŸç†"}},[e._v("#")]),e._v(" ä¸€æ–‡åƒé€reactäº‹ä»¶åŸç†")]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://mp.weixin.qq.com/s/LvzC74rlYZr4tSkFkxGAoA",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://mp.weixin.qq.com/s/LvzC74rlYZr4tSkFkxGAoA"),t("OutboundLink")],1)])]),e._v(" "),t("h1",{attrs:{id:"ä¸€-å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€-å‰è¨€"}},[e._v("#")]),e._v(" ä¸€ å‰è¨€")]),e._v(" "),t("p",[e._v("ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·æ¢è®¨ä¸€ä¸‹"),t("code",[e._v("React")]),e._v("äº‹ä»¶åŸç†ï¼Œè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°½é‡ç”¨é€šä¿—ç®€æ´çš„æ–¹å¼ï¼ŒæŠŠ"),t("code",[e._v("React")]),e._v("äº‹ä»¶ç³»ç»Ÿè®²çš„æ˜æ˜ç™½ç™½ã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬è®²çš„"),t("code",[e._v("react")]),e._v("ç‰ˆæœ¬æ˜¯"),t("code",[e._v("16.13.1")]),e._v(" , "),t("code",[e._v("v17")]),e._v("ä¹‹å"),t("code",[e._v("react")]),e._v("å¯¹äºäº‹ä»¶ç³»ç»Ÿä¼šæœ‰ç›¸å…³çš„æ”¹ç‰ˆï¼Œæ–‡ç« ååŠéƒ¨åˆ†ä¼šæåŠã€‚")]),e._v(" "),t("p",[e._v("è€è§„çŸ©ï¼Œåœ¨æ­£å¼è®²è§£"),t("code",[e._v("react")]),e._v("ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæƒ³æƒ³è¿™å‡ ä¸ªé—®é¢˜("),t("strong",[e._v("å¦‚æœæˆ‘æ˜¯é¢è¯•å®˜ï¼Œä½ ä¼šæ€ä¹ˆå›ç­”?")]),e._v(")ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("1 æˆ‘ä»¬å†™çš„äº‹ä»¶æ˜¯ç»‘å®šåœ¨"),t("code",[e._v("dom")]),e._v("ä¸Šä¹ˆï¼Œå¦‚æœä¸æ˜¯ç»‘å®šåœ¨å“ªé‡Œï¼Ÿ")]),e._v(" "),t("li",[e._v("2 ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„äº‹ä»¶ä¸èƒ½ç»‘å®šç»™ç»„ä»¶ï¼Ÿ")]),e._v(" "),t("li",[e._v("3 ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„äº‹ä»¶æ‰‹åŠ¨ç»‘å®š"),t("code",[e._v("this")]),e._v("(ä¸æ˜¯ç®­å¤´å‡½æ•°çš„æƒ…å†µ)")]),e._v(" "),t("li",[e._v("4 ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ "),t("code",[e._v("return false")]),e._v("æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Ÿ")]),e._v(" "),t("li",[e._v("5 "),t("code",[e._v("react")]),e._v("æ€ä¹ˆé€šè¿‡"),t("code",[e._v("dom")]),e._v("å…ƒç´ ï¼Œæ‰¾åˆ°ä¸ä¹‹å¯¹åº”çš„ "),t("code",[e._v("fiber")]),e._v("å¯¹è±¡çš„ï¼Ÿ")]),e._v(" "),t("li",[e._v("6 "),t("code",[e._v("onClick")]),e._v("æ˜¯åœ¨å†’æ³¡é˜¶æ®µç»‘å®šçš„ï¼Ÿé‚£ä¹ˆ"),t("code",[e._v("onClickCapture")]),e._v("å°±æ˜¯åœ¨äº‹ä»¶æ•è·é˜¶æ®µç»‘å®šçš„å—ï¼Ÿ")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJvIa01mAsTNF4mZMy2fsSWicp4VEsdj7xeRuScjTEQHibLayphqpySHcA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("B7836791-2C40-48BA-83BF-835E0BD87B55.jpg")]),e._v(" "),t("h2",{attrs:{id:"å¿…è¦çš„çŸ¥è¯†æ¦‚å¿µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¿…è¦çš„çŸ¥è¯†æ¦‚å¿µ"}},[e._v("#")]),e._v(" å¿…è¦çš„çŸ¥è¯†æ¦‚å¿µ")]),e._v(" "),t("p",[e._v("åœ¨å¼„æ¸…æ¥š"),t("code",[e._v("react")]),e._v("äº‹ä»¶ä¹‹å‰ï¼Œæœ‰å‡ ä¸ªæ¦‚å¿µæˆ‘ä»¬å¿…é¡»å¼„æ¸…æ¥šï¼Œå› ä¸ºåªæœ‰å¼„æ˜ç™½è¿™å‡ ä¸ªæ¦‚å¿µï¼Œåœ¨äº‹ä»¶è§¦å‘é˜¶æ®µï¼Œæˆ‘ä»¬æ‰èƒ½æ›´å¥½çš„ç†è§£"),t("code",[e._v("react")]),e._v("å¤„ç†äº‹ä»¶æœ¬è´¨ã€‚")]),e._v(" "),t("h3",{attrs:{id:"æˆ‘ä»¬å†™åœ¨jsxäº‹ä»¶ç»ˆå°†å˜æˆä»€ä¹ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘ä»¬å†™åœ¨jsxäº‹ä»¶ç»ˆå°†å˜æˆä»€ä¹ˆ"}},[e._v("#")]),e._v(" æˆ‘ä»¬å†™åœ¨JSXäº‹ä»¶ç»ˆå°†å˜æˆä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å…ˆå†™ä¸€æ®µå«æœ‰ç‚¹å‡»äº‹ä»¶çš„"),t("code",[e._v("react JSX")]),e._v("è¯­æ³•ï¼Œçœ‹ä¸€ä¸‹å®ƒæœ€ç»ˆä¼šå˜æˆä»€ä¹ˆæ ·å­ï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("class Index extends React.Component{\n    handerClick= (value) => console.log(value) \n    render(){\n        return <div>\n            <button onClick={ this.handerClick } > æŒ‰é’®ç‚¹å‡» </button>\n        </div>\n    }\n}\n")])])]),t("p",[e._v("ç»è¿‡"),t("code",[e._v("babel")]),e._v("è½¬æ¢æˆ"),t("code",[e._v("React.createElement")]),e._v("å½¢å¼ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJJahUR1Z33lpxmZbZib4mK2DRicjlHgbOKsyK3bLUkFrWENflaAlEYYMw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("babel.jpg")]),e._v(" "),t("p",[e._v("æœ€ç»ˆè½¬æˆ"),t("code",[e._v("fiber")]),e._v("å¯¹è±¡å½¢å¼å¦‚ä¸‹ï¼š")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJJcMr48au9dvwHUoH3ffJoOafWib1iccEYTia9ACgl4oicV5nymeElxSlIw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("fiber.jpg")]),e._v(" "),t("p",[t("code",[e._v("fiber")]),e._v("å¯¹è±¡ä¸Šçš„"),t("code",[e._v("memoizedProps")]),e._v(" å’Œ "),t("code",[e._v("pendingProps")]),e._v("ä¿å­˜äº†æˆ‘ä»¬çš„äº‹ä»¶ã€‚")]),e._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åˆæˆäº‹ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åˆæˆäº‹ä»¶"}},[e._v("#")]),e._v(" ä»€ä¹ˆæ˜¯åˆæˆäº‹ä»¶ï¼Ÿ")]),e._v(" "),t("p",[e._v("é€šè¿‡ä¸Šä¸€æ­¥æˆ‘ä»¬çœ‹åˆ°äº†ï¼Œæˆ‘ä»¬å£°æ˜äº‹ä»¶ä¿å­˜çš„ä½ç½®ã€‚ä½†æ˜¯äº‹ä»¶æœ‰æ²¡æœ‰è¢«çœŸæ­£çš„æ³¨å†Œå‘¢ï¼Ÿæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ï¼š")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬çœ‹ä¸€ä¸‹å½“å‰è¿™ä¸ªå…ƒç´ "),t("code",[e._v("<button>")]),e._v("ä¸Šæœ‰æ²¡æœ‰ç»‘å®šè¿™ä¸ªäº‹ä»¶ç›‘å¬å™¨å‘¢ï¼Ÿ")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJQMsySfXz8S6wKO34YK5wklp5RDib95E2u3eWX1ujVqzwD8x0ZWicsZpw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("button_event.jpg")]),e._v(" "),t("p",[t("strong",[e._v("buttonä¸Šç»‘å®šçš„äº‹ä»¶")])]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å¯ä»¥çœ‹åˆ° ï¼Œ"),t("code",[e._v("button")]),e._v("ä¸Šç»‘å®šäº†ä¸¤ä¸ªäº‹ä»¶ï¼Œä¸€ä¸ªæ˜¯"),t("code",[e._v("document")]),e._v("ä¸Šçš„äº‹ä»¶ç›‘å¬å™¨ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯"),t("code",[e._v("button")]),e._v("ï¼Œä½†æ˜¯äº‹ä»¶å¤„ç†å‡½æ•°"),t("code",[e._v("handle")]),e._v("ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬çš„"),t("code",[e._v("handerClick")]),e._v("äº‹ä»¶ï¼Œè€Œæ˜¯"),t("code",[e._v("noop")]),e._v("ã€‚")]),e._v(" "),t("p",[t("code",[e._v("noop")]),e._v("æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€æ¥çœ‹ã€‚")]),e._v(" "),t("p",[e._v("åŸæ¥"),t("code",[e._v("noop")]),e._v("å°±æŒ‡å‘ä¸€ä¸ªç©ºå‡½æ•°ã€‚")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJfRAX3qRK8pNpjxOVC6uib66tzOEulItlCSKFicPkBlTyE0d2iauJViaKsQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("noop.jpg")]),e._v(" "),t("p",[t("strong",[e._v("ç„¶åæˆ‘ä»¬çœ‹"),t("code",[e._v("document")]),e._v("ç»‘å®šçš„äº‹ä»¶")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJgEhMwxlpKicjWlgJRuxaK5xzHCsbP90Mhl3yNuQewwJpKdGbicZjyPqQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("document.jpg")]),e._v(" "),t("p",[e._v("å¯ä»¥çœ‹åˆ°"),t("code",[e._v("click")]),e._v("äº‹ä»¶è¢«ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šäº†ã€‚")]),e._v(" "),t("p",[e._v("æ¥ä¸‹æ¥æˆ‘ä»¬å†ææäº‹æƒ…ğŸ˜‚ğŸ˜‚ğŸ˜‚ï¼Œåœ¨"),t("code",[e._v("demo")]),e._v("é¡¹ç›®ä¸­åŠ ä¸Šä¸€ä¸ª"),t("code",[e._v("input")]),e._v("è¾“å…¥æ¡†ï¼Œå¹¶ç»‘å®šä¸€ä¸ª"),t("code",[e._v("onChange")]),e._v("äº‹ä»¶ã€‚çå¤§çœ¼ç›çœ‹çœ‹æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("class Index extends React.Component{\n    componentDidMount(){\n        console.log(this)\n    }\n    handerClick= (value) => console.log(value) \n    handerChange=(value) => console.log(value)\n    render(){\n        return <div style={{ marginTop:'50px' }} >\n            <button onClick={ this.handerClick } > æŒ‰é’®ç‚¹å‡» </button>\n            <input  placeholder=\"è¯·è¾“å…¥å†…å®¹\" onChange={ this.handerChange }  />\n        </div>\n    }\n}\n")])])]),t("p",[t("strong",[e._v("æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹"),t("code",[e._v("input dom")]),e._v("å…ƒç´ ä¸Šç»‘å®šçš„äº‹ä»¶")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJIe7R63IoYxJr2nfeMOuP1aia8DMEjCcGpVQ1rAw4GO3VJ3qNsQ33s8A/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("22BEC470-233A-4C50-9C47-D21D343C055D.jpg")]),e._v(" "),t("p",[t("strong",[e._v("ç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹"),t("code",[e._v("document")]),e._v("ä¸Šç»‘å®šçš„äº‹ä»¶")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJRaNQ4e0F8quv0u0UzSGOfokg9X9wKr0hsDfr3Q8qNgFnGwnXWBmcgA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("8E1D3BDB-ACFB-4E49-A5FF-CF990C47A60E.jpg")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬ç»™"),t("code",[e._v("<input>")]),e._v("ç»‘å®šçš„"),t("code",[e._v("onChange")]),e._v("ï¼Œå¹¶æ²¡æœ‰ç›´æ¥ç»‘å®šåœ¨"),t("code",[e._v("input")]),e._v("ä¸Šï¼Œè€Œæ˜¯ç»Ÿä¸€ç»‘å®šåœ¨äº†"),t("code",[e._v("document")]),e._v("ä¸Šï¼Œç„¶åæˆ‘ä»¬"),t("code",[e._v("onChange")]),e._v("è¢«å¤„ç†æˆå¾ˆå¤šäº‹ä»¶ç›‘å¬å™¨ï¼Œæ¯”å¦‚"),t("code",[e._v("blur")]),e._v(" , "),t("code",[e._v("change")]),e._v(" , "),t("code",[e._v("input")]),e._v(" , "),t("code",[e._v("keydown")]),e._v(" , "),t("code",[e._v("keyup")]),e._v(" ç­‰ã€‚")]),e._v(" "),t("p",[e._v("ç»¼ä¸Šæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š")]),e._v(" "),t("ul",[t("li",[e._v("â‘ "),t("strong",[e._v("æˆ‘ä»¬åœ¨ "),t("code",[e._v("jsx")]),e._v(" ä¸­ç»‘å®šçš„äº‹ä»¶(demoä¸­çš„"),t("code",[e._v("handerClick")]),e._v("ï¼Œ"),t("code",[e._v("handerChange")]),e._v("),æ ¹æœ¬å°±æ²¡æœ‰æ³¨å†Œåˆ°çœŸå®çš„"),t("code",[e._v("dom")]),e._v("ä¸Šã€‚æ˜¯ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šç»Ÿä¸€ç®¡ç†çš„ã€‚")])]),e._v(" "),t("li",[e._v("â‘¡"),t("strong",[e._v("çœŸå®çš„"),t("code",[e._v("dom")]),e._v("ä¸Šçš„"),t("code",[e._v("click")]),e._v("äº‹ä»¶è¢«å•ç‹¬å¤„ç†,å·²ç»è¢«"),t("code",[e._v("react")]),e._v("åº•å±‚æ›¿æ¢æˆç©ºå‡½æ•°ã€‚")])]),e._v(" "),t("li",[e._v("â‘¢"),t("strong",[e._v("æˆ‘ä»¬åœ¨"),t("code",[e._v("react")]),e._v("ç»‘å®šçš„äº‹ä»¶,æ¯”å¦‚"),t("code",[e._v("onChange")]),e._v("ï¼Œåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šï¼Œå¯èƒ½æœ‰å¤šä¸ªäº‹ä»¶ä¸ä¹‹å¯¹åº”ã€‚")])]),e._v(" "),t("li",[e._v("â‘£ "),t("strong",[t("code",[e._v("react")]),e._v("å¹¶ä¸æ˜¯ä¸€å¼€å§‹ï¼ŒæŠŠæ‰€æœ‰çš„äº‹ä»¶éƒ½ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šï¼Œè€Œæ˜¯é‡‡å–äº†ä¸€ç§æŒ‰éœ€ç»‘å®šï¼Œæ¯”å¦‚å‘ç°äº†"),t("code",[e._v("onClick")]),e._v("äº‹ä»¶,å†å»ç»‘å®š"),t("code",[e._v("document click")]),e._v("äº‹ä»¶ã€‚")])])]),e._v(" "),t("p",[e._v("é‚£ä¹ˆä»€ä¹ˆæ˜¯"),t("code",[e._v("react")]),e._v("äº‹ä»¶åˆæˆå‘¢ï¼Ÿ")]),e._v(" "),t("p",[t("strong",[e._v("åœ¨"),t("code",[e._v("react")]),e._v("ä¸­ï¼Œæˆ‘ä»¬ç»‘å®šçš„äº‹ä»¶"),t("code",[e._v("onClick")]),e._v("ç­‰ï¼Œå¹¶ä¸æ˜¯åŸç”Ÿäº‹ä»¶ï¼Œè€Œæ˜¯ç”±åŸç”Ÿäº‹ä»¶åˆæˆçš„"),t("code",[e._v("React")]),e._v("äº‹ä»¶ï¼Œæ¯”å¦‚ "),t("code",[e._v("click")]),e._v("äº‹ä»¶åˆæˆä¸º"),t("code",[e._v("onClick")]),e._v("äº‹ä»¶ã€‚æ¯”å¦‚"),t("code",[e._v("blur")]),e._v(" , "),t("code",[e._v("change")]),e._v(" , "),t("code",[e._v("input")]),e._v(" , "),t("code",[e._v("keydown")]),e._v(" , "),t("code",[e._v("keyup")]),e._v("ç­‰ , åˆæˆä¸º"),t("code",[e._v("onChange")]),e._v("ã€‚")])]),e._v(" "),t("p",[e._v("é‚£ä¹ˆ"),t("code",[e._v("react")]),e._v("é‡‡å–è¿™ç§äº‹ä»¶åˆæˆçš„æ¨¡å¼å‘¢ï¼Ÿ")]),e._v(" "),t("p",[e._v("ä¸€æ–¹é¢ï¼Œå°†äº‹ä»¶ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ç»Ÿä¸€ç®¡ç†ï¼Œé˜²æ­¢å¾ˆå¤šäº‹ä»¶ç›´æ¥ç»‘å®šåœ¨åŸç”Ÿçš„"),t("code",[e._v("dom")]),e._v("å…ƒç´ ä¸Šã€‚é€ æˆä¸€äº›ä¸å¯æ§çš„æƒ…å†µ")]),e._v(" "),t("p",[e._v("å¦ä¸€æ–¹é¢ï¼Œ "),t("code",[e._v("React")]),e._v(" æƒ³å®ç°ä¸€ä¸ªå…¨æµè§ˆå™¨çš„æ¡†æ¶ï¼Œ ä¸ºäº†å®ç°è¿™ç§ç›®æ ‡å°±éœ€è¦æä¾›å…¨æµè§ˆå™¨ä¸€è‡´æ€§çš„äº‹ä»¶ç³»ç»Ÿï¼Œä»¥æ­¤æŠ¹å¹³ä¸åŒæµè§ˆå™¨çš„å·®å¼‚ã€‚")]),e._v(" "),t("p",[e._v("æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­ï¼Œä¼šä»‹ç»"),t("code",[e._v("react")]),e._v("æ˜¯æ€ä¹ˆåšäº‹ä»¶åˆæˆçš„ã€‚")]),e._v(" "),t("h3",{attrs:{id:"domå…ƒç´ å¯¹åº”çš„fiber-tagå¯¹è±¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#domå…ƒç´ å¯¹åº”çš„fiber-tagå¯¹è±¡"}},[e._v("#")]),e._v(" domå…ƒç´ å¯¹åº”çš„fiber Tagå¯¹è±¡")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬çŸ¥é“äº†"),t("code",[e._v("react")]),e._v("æ€ä¹ˆå‚¨å­˜äº†æˆ‘ä»¬çš„äº‹ä»¶å‡½æ•°å’Œäº‹ä»¶åˆæˆå› æœã€‚æ¥ä¸‹æ¥æˆ‘æƒ³è®©å¤§å®¶è®°ä½ä¸€ç§ç±»å‹çš„ "),t("code",[e._v("fiber")]),e._v(" å¯¹è±¡,å› ä¸ºåé¢ä¼šç”¨åˆ°ï¼Œè¿™å¯¹åç»­çš„ç†è§£å¾ˆæœ‰å¸®åŠ©ã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä»£ç ç‰‡æ®µï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<div> \n  <div> hello , my name is alien </div>\n</div>\n")])])]),t("p",[e._v("çœ‹"),t("code",[e._v("<div> hello , my name is alien </div>")]),e._v(" å¯¹åº”çš„ "),t("code",[e._v("fiber")]),e._v("ç±»å‹ã€‚tag = 5")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzYHmxW0oy7mdIaqtmicIXNJsTicvBiajJ0ESuicj1fB0S7UX7C1librMXJiaU5Bwk8g7qLF52MdHujsRmw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}}),e._v("ç„¶åæˆ‘ä»¬å»"),t("code",[e._v("react")]),e._v("æºç ä¸­æ‰¾åˆ°è¿™ç§ç±»çš„"),t("code",[e._v("fiber")]),e._v("ç±»å‹ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("/react-reconciler/src/ReactWorkTagsq.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export const HostComponent = 5; // å…ƒç´ èŠ‚ç‚¹\n")])])]),t("p",[e._v("å¥½çš„ ï¼Œæˆ‘ä»¬æš‚ä¸”æŠŠ "),t("code",[e._v("HostComponent")]),e._v(" å’Œ "),t("code",[e._v("HostText")]),e._v("è®°å½•ğŸ“ä¸‹æ¥ã€‚æ¥ä¸‹æ¥å›å½’æ­£é¢˜ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹"),t("code",[e._v("react")]),e._v("äº‹ä»¶åˆæˆæœºåˆ¶ã€‚")]),e._v(" "),t("h1",{attrs:{id:"äºŒ-äº‹ä»¶åˆå§‹åŒ–-äº‹ä»¶åˆæˆ-æ’ä»¶æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒ-äº‹ä»¶åˆå§‹åŒ–-äº‹ä»¶åˆæˆ-æ’ä»¶æœºåˆ¶"}},[e._v("#")]),e._v(" äºŒ äº‹ä»¶åˆå§‹åŒ–-äº‹ä»¶åˆæˆï¼Œæ’ä»¶æœºåˆ¶")]),e._v(" "),t("p",[e._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ‹"),t("code",[e._v("react")]),e._v("è¿™ä¹ˆå¤„ç†äº‹ä»¶åˆæˆçš„ã€‚é¦–å…ˆæˆ‘ä»¬ä»ä¸Šé¢æˆ‘ä»¬çŸ¥é“ï¼Œ"),t("code",[e._v("react")]),e._v("å¹¶ä¸æ˜¯ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰äº‹ä»¶éƒ½"),t("strong",[e._v("ç»‘å®šè¿›å»")]),e._v("ï¼Œè€Œæ˜¯å¦‚æœå‘ç°é¡¹ç›®ä¸­æœ‰"),t("code",[e._v("onClick")]),e._v("ï¼Œæ‰ç»‘å®š"),t("code",[e._v("click")]),e._v("äº‹ä»¶ï¼Œå‘ç°æœ‰"),t("code",[e._v("onChange")]),e._v("äº‹ä»¶ï¼Œæ‰ç»‘å®š"),t("code",[e._v("blur")]),e._v(" , "),t("code",[e._v("change")]),e._v(" , "),t("code",[e._v("input")]),e._v(" , "),t("code",[e._v("keydown")]),e._v(" , "),t("code",[e._v("keyup")]),e._v("ç­‰ã€‚æ‰€ä»¥ä¸ºäº†æŠŠåŸç†æçš„æ¸…æ¸…æ¥šæ¥šï¼Œç¬”è€…æŠŠäº‹ä»¶åŸç†åˆ†æˆä¸‰éƒ¨åˆ†æ¥æå®šï¼š")]),e._v(" "),t("ul",[t("li",[e._v("1 "),t("code",[e._v("react")]),e._v("å¯¹äº‹ä»¶æ˜¯å¦‚ä½•åˆæˆçš„ã€‚")]),e._v(" "),t("li",[e._v("2 "),t("code",[e._v("react")]),e._v("äº‹ä»¶æ˜¯æ€ä¹ˆç»‘å®šçš„ã€‚")]),e._v(" "),t("li",[e._v("3 "),t("code",[e._v("react")]),e._v("äº‹ä»¶è§¦å‘æµç¨‹ã€‚")])]),e._v(" "),t("h2",{attrs:{id:"äº‹ä»¶åˆæˆ-äº‹ä»¶æ’ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶åˆæˆ-äº‹ä»¶æ’ä»¶"}},[e._v("#")]),e._v(" äº‹ä»¶åˆæˆ-äº‹ä»¶æ’ä»¶")]),e._v(" "),t("h3",{attrs:{id:"_1-å¿…è¦æ¦‚å¿µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¿…è¦æ¦‚å¿µ"}},[e._v("#")]),e._v(" 1 å¿…è¦æ¦‚å¿µ")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å…ˆæ¥çœ‹æ¥å‡ ä¸ªå¸¸é‡å…³ç³»ï¼Œè¿™å¯¹äºæˆ‘ä»¬åƒé€"),t("code",[e._v("react")]),e._v("äº‹ä»¶åŸç†å¾ˆæœ‰å¸®åŠ©ã€‚åœ¨è§£ææ¥çš„è®²è§£ä¸­ï¼Œæˆ‘ä¹Ÿä¼šè®²åˆ°è¿™å‡ ä¸ªå¯¹è±¡å¦‚ä½•æ¥çš„ï¼Œå…·ä½“æœ‰ä»€ä¹ˆä½œç”¨ã€‚")]),e._v(" "),t("h4",{attrs:{id:"_1namestoplugins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1namestoplugins"}},[e._v("#")]),e._v(" â‘ namesToPlugins")]),e._v(" "),t("p",[e._v("ç¬¬ä¸€ä¸ªæ¦‚å¿µï¼š"),t("strong",[e._v("namesToPlugins")]),e._v(" è£…äº‹ä»¶å -> äº‹ä»¶æ¨¡å—æ’ä»¶çš„æ˜ å°„,"),t("code",[e._v("namesToPlugins")]),e._v("æœ€ç»ˆçš„æ ·å­å¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const namesToPlugins = {\n    SimpleEventPlugin,\n    EnterLeaveEventPlugin,\n    ChangeEventPlugin,\n    SelectEventPlugin,\n    BeforeInputEventPlugin,\n}\n")])])]),t("p",[t("code",[e._v("SimpleEventPlugin")]),e._v("ç­‰æ˜¯å¤„ç†å„ä¸ªäº‹ä»¶å‡½æ•°çš„æ’ä»¶ï¼Œæ¯”å¦‚ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶ï¼Œå°±ä¼šæ‰¾åˆ°"),t("code",[e._v("SimpleEventPlugin")]),e._v("å¯¹åº”çš„å¤„ç†å‡½æ•°ã€‚æˆ‘ä»¬å…ˆè®°å½•ä¸‹å®ƒï¼Œè‡³äºå…·ä½“æœ‰ä»€ä¹ˆä½œç”¨ï¼Œæ¥ä¸‹æ¥ä¼šè®²åˆ°ã€‚")]),e._v(" "),t("h4",{attrs:{id:"_2plugins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2plugins"}},[e._v("#")]),e._v(" â‘¡plugins")]),e._v(" "),t("p",[t("code",[e._v("plugins")]),e._v("ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯ä¸Šé¢æ³¨å†Œçš„æ‰€æœ‰æ’ä»¶åˆ—è¡¨,åˆå§‹åŒ–ä¸ºç©ºã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const  plugins = [LegacySimpleEventPlugin, LegacyEnterLeaveEventPlugin, ...];\n")])])]),t("h4",{attrs:{id:"_3registrationnamemodules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3registrationnamemodules"}},[e._v("#")]),e._v(" â‘¢registrationNameModules")]),e._v(" "),t("p",[t("code",[e._v("registrationNameModules")]),e._v("è®°å½•äº†Reactåˆæˆçš„äº‹ä»¶-å¯¹åº”çš„äº‹ä»¶æ’ä»¶çš„å…³ç³»ï¼Œåœ¨"),t("code",[e._v("React")]),e._v("ä¸­ï¼Œå¤„ç†"),t("code",[e._v("props")]),e._v("ä¸­äº‹ä»¶çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ä¸åŒçš„äº‹ä»¶åç§°ï¼Œæ‰¾åˆ°å¯¹åº”çš„äº‹ä»¶æ’ä»¶ï¼Œç„¶åç»Ÿä¸€ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šã€‚å¯¹äºæ²¡æœ‰å‡ºç°è¿‡çš„äº‹ä»¶ï¼Œå°±ä¸ä¼šç»‘å®šï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šè®²åˆ°ã€‚"),t("code",[e._v("registrationNameModules")]),e._v("å¤§è‡´çš„æ ·å­å¦‚ä¸‹æ‰€ç¤ºã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("{\n    onBlur: SimpleEventPlugin,\n    onClick: SimpleEventPlugin,\n    onClickCapture: SimpleEventPlugin,\n    onChange: ChangeEventPlugin,\n    onChangeCapture: ChangeEventPlugin,\n    onMouseEnter: EnterLeaveEventPlugin,\n    onMouseLeave: EnterLeaveEventPlugin,\n    ...\n}\n")])])]),t("h4",{attrs:{id:"_4äº‹ä»¶æ’ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4äº‹ä»¶æ’ä»¶"}},[e._v("#")]),e._v(" â‘£äº‹ä»¶æ’ä»¶")]),e._v(" "),t("p",[e._v("é‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆå°±è¦ææ¸…æ¥šï¼Œ"),t("code",[e._v("SimpleEventPlugin")]),e._v(","),t("code",[e._v("EnterLeaveEventPlugin")]),e._v("æ¯ä¸ªæ’ä»¶éƒ½æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ‹¿"),t("code",[e._v("SimpleEventPlugin")]),e._v("ä¸ºä¾‹ï¼Œçœ‹ä¸€ä¸‹å®ƒç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const SimpleEventPlugin = {\n    eventTypes:{ \n        'click':{ /* å¤„ç†ç‚¹å‡»äº‹ä»¶  */\n            phasedRegistrationNames:{\n                bubbled: 'onClick',       // å¯¹åº”çš„äº‹ä»¶å†’æ³¡ - onClick \n                captured:'onClickCapture' //å¯¹åº”äº‹ä»¶æ•è·é˜¶æ®µ - onClickCapture\n            },\n            dependencies: ['click'], //äº‹ä»¶ä¾èµ–\n            ...\n        },\n        'blur':{ /* å¤„ç†å¤±å»ç„¦ç‚¹äº‹ä»¶ */ },\n        ...\n    }\n    extractEvents:function(topLevelType,targetInst,){ /* eventTypes é‡Œé¢çš„äº‹ä»¶å¯¹åº”çš„ç»Ÿä¸€äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ¥ä¸‹æ¥ä¼šé‡ç‚¹è®²åˆ° */ }\n}\n")])])]),t("p",[e._v("é¦–å…ˆäº‹ä»¶æ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªå±æ€§ï¼Œç¬¬ä¸€ä¸ª"),t("code",[e._v("extractEvents")]),e._v("ä½œä¸ºäº‹ä»¶ç»Ÿä¸€å¤„ç†å‡½æ•°ï¼Œç¬¬äºŒä¸ª"),t("code",[e._v("eventTypes")]),e._v("æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¿å­˜äº†åŸç”Ÿäº‹ä»¶åå’Œå¯¹åº”çš„é…ç½®é¡¹"),t("code",[e._v("dispatchConfig")]),e._v("çš„æ˜ å°„å…³ç³»ã€‚ç”±äºv16Reactçš„äº‹ä»¶æ˜¯ç»Ÿä¸€ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šçš„ï¼ŒReactç”¨ç‹¬ç‰¹çš„äº‹ä»¶åç§°æ¯”å¦‚"),t("code",[e._v("onClick")]),e._v("å’Œ"),t("code",[e._v("onClickCapture")]),e._v("ï¼Œæ¥è¯´æ˜æˆ‘ä»¬ç»™ç»‘å®šçš„å‡½æ•°åˆ°åº•æ˜¯åœ¨å†’æ³¡äº‹ä»¶é˜¶æ®µï¼Œè¿˜æ˜¯æ•è·äº‹ä»¶é˜¶æ®µæ‰§è¡Œã€‚")]),e._v(" "),t("h4",{attrs:{id:"_5-registrationnamedependencies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-registrationnamedependencies"}},[e._v("#")]),e._v(" â‘¤ registrationNameDependencies")]),e._v(" "),t("p",[t("code",[e._v("registrationNameDependencies")]),e._v("ç”¨æ¥è®°å½•ï¼Œåˆæˆäº‹ä»¶æ¯”å¦‚ "),t("code",[e._v("onClick")]),e._v(" å’ŒåŸç”Ÿäº‹ä»¶ "),t("code",[e._v("click")]),e._v("å¯¹åº”å…³ç³»ã€‚æ¯”å¦‚ "),t("code",[e._v("onChange")]),e._v(" å¯¹åº” "),t("code",[e._v("change")]),e._v(" , "),t("code",[e._v("input")]),e._v(" , "),t("code",[e._v("keydown")]),e._v(" , "),t("code",[e._v("keyup")]),e._v("äº‹ä»¶ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("{\n    onBlur: ['blur'],\n    onClick: ['click'],\n    onClickCapture: ['click'],\n    onChange: ['blur', 'change', 'click', 'focus', 'input', 'keydown', 'keyup', 'selectionchange'],\n    onMouseEnter: ['mouseout', 'mouseover'],\n    onMouseLeave: ['mouseout', 'mouseover'],\n    ...\n}\n")])])]),t("h3",{attrs:{id:"_2-äº‹ä»¶åˆå§‹åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-äº‹ä»¶åˆå§‹åŒ–"}},[e._v("#")]),e._v(" 2 äº‹ä»¶åˆå§‹åŒ–")]),e._v(" "),t("p",[e._v("å¯¹äºäº‹ä»¶åˆæˆï¼Œ"),t("code",[e._v("v16.13.1")]),e._v("ç‰ˆæœ¬"),t("code",[e._v("react")]),e._v("é‡‡ç”¨äº†åˆå§‹åŒ–æ³¨å†Œæ–¹å¼ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("react-dom/src/client/ReactDOMClientInjection.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/* ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œäº‹ä»¶ï¼š  */\ninjectEventPluginsByName({\n    SimpleEventPlugin: SimpleEventPlugin,\n    EnterLeaveEventPlugin: EnterLeaveEventPlugin,\n    ChangeEventPlugin: ChangeEventPlugin,\n    SelectEventPlugin: SelectEventPlugin,\n    BeforeInputEventPlugin: BeforeInputEventPlugin,\n});\n")])])]),t("p",[t("code",[e._v("injectEventPluginsByName")]),e._v(" è¿™ä¸ªå‡½æ•°å…·ä½“æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Œå®ƒåœ¨"),t("code",[e._v("react")]),e._v("åº•å±‚æ˜¯é»˜è®¤æ‰§è¡Œçš„ã€‚æˆ‘ä»¬æ¥ç®€åŒ–è¿™ä¸ªå‡½æ•°,çœ‹å®ƒåˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("legacy-event/EventPluginRegistry.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/* æ³¨å†Œäº‹ä»¶æ’ä»¶ */\nexport function injectEventPluginsByName(injectedNamesToPlugins){\n     for (const pluginName in injectedNamesToPlugins) {\n         namesToPlugins[pluginName] = injectedNamesToPlugins[pluginName]\n     }\n     recomputePluginOrdering()\n}\n")])])]),t("p",[t("code",[e._v("injectEventPluginsByName")]),e._v("åšçš„äº‹æƒ…å¾ˆç®€å•ï¼Œå½¢æˆä¸Šè¿°çš„"),t("code",[e._v("namesToPlugins")]),e._v("ï¼Œç„¶åæ‰§è¡Œ"),t("code",[e._v("recomputePluginOrdering")]),e._v("ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹"),t("code",[e._v("recomputePluginOrdering")]),e._v("åšäº†å†™ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const eventPluginOrder = [ 'SimpleEventPlugin' , 'EnterLeaveEventPlugin','ChangeEventPlugin','SelectEventPlugin' , 'BeforeInputEventPlugin' ]\n\nfunction recomputePluginOrdering(){\n    for (const pluginName in namesToPlugins) {\n        /* æ‰¾åˆ°å¯¹åº”çš„äº‹ä»¶å¤„ç†æ’ä»¶ï¼Œæ¯”å¦‚ SimpleEventPlugin  */\n        const pluginModule = namesToPlugins[pluginName];\n        const pluginIndex = eventPluginOrder.indexOf(pluginName);\n        /* å¡«å…… plugins æ•°ç»„  */\n        plugins[pluginIndex] = pluginModule;\n    }\n\n    const publishedEvents = pluginModule.eventTypes;\n    for (const eventName in publishedEvents) {\n       // publishedEvents[eventName] -> eventConfig , pluginModule -> äº‹ä»¶æ’ä»¶ ï¼Œ eventName -> äº‹ä»¶åç§°\n        publishEventForPlugin(publishedEvents[eventName],pluginModule,eventName,)\n    } \n}\nã€‘\n")])])]),t("p",[t("strong",[e._v("recomputePluginOrdering")]),e._v(",ä½œç”¨å¾ˆæ˜ç¡®äº†ï¼Œå½¢æˆä¸Šé¢è¯´çš„é‚£ä¸ª"),t("code",[e._v("plugins")]),e._v(",æ•°ç»„ã€‚ç„¶åå°±æ˜¯"),t("strong",[e._v("é‡ç‚¹çš„å‡½æ•°"),t("code",[e._v("publishEventForPlugin")])]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/*\n  dispatchConfig -> åŸç”Ÿäº‹ä»¶å¯¹åº”é…ç½®é¡¹ { phasedRegistrationNames :{  å†’æ³¡ æ•è·  } ï¼Œ   }\n  pluginModule -> äº‹ä»¶æ’ä»¶ æ¯”å¦‚SimpleEventPlugin  \n  eventName -> åŸç”Ÿäº‹ä»¶åç§°ã€‚\n*/\nfunction publishEventForPlugin (dispatchConfig,pluginModule,eventName){\n    eventNameDispatchConfigs[eventName] = dispatchConfig;\n    /* äº‹ä»¶ */\n    const phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;\n    if (phasedRegistrationNames) {\n    for (const phaseName in phasedRegistrationNames) {\n        if (phasedRegistrationNames.hasOwnProperty(phaseName)) {\n            // phasedRegistrationName Reactäº‹ä»¶å æ¯”å¦‚ onClick / onClickCapture\n            const phasedRegistrationName = phasedRegistrationNames[phaseName];\n            // å¡«å……å½¢æˆ registrationNameModules React åˆæˆäº‹ä»¶ -> React å¤„ç†äº‹ä»¶æ’ä»¶æ˜ å°„å…³ç³»\n            registrationNameModules[phasedRegistrationName] = pluginModule;\n            // å¡«å……å½¢æˆ registrationNameDependencies React åˆæˆäº‹ä»¶ -> åŸç”Ÿäº‹ä»¶ æ˜ å°„å…³ç³»\n            registrationNameDependencies[phasedRegistrationName] = pluginModule.eventTypes[eventName].dependencies;\n        }\n    }\n    return true;\n    }\n}\n")])])]),t("p",[t("code",[e._v("publishEventForPlugin")]),e._v(" ä½œç”¨å½¢æˆä¸Šè¿°çš„ "),t("strong",[t("code",[e._v("registrationNameModules")])]),e._v(" å’Œ "),t("strong",[t("code",[e._v("registrationNameDependencies")])]),e._v(" å¯¹è±¡ä¸­çš„æ˜ å°„å…³ç³»ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_3-äº‹ä»¶åˆæˆæ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-äº‹ä»¶åˆæˆæ€»ç»“"}},[e._v("#")]),e._v(" 3 äº‹ä»¶åˆæˆæ€»ç»“")]),e._v(" "),t("p",[e._v("åˆ°è¿™é‡Œæ•´ä¸ªåˆå§‹åŒ–é˜¶æ®µå·²ç»å®Œäº‹äº†ï¼Œæˆ‘æ¥æ€»ç»“ä¸€ä¸‹åˆå§‹åŒ–äº‹ä»¶åˆæˆéƒ½åšäº†äº›ä»€ä¹ˆã€‚è¿™ä¸ªé˜¶æ®µä¸»è¦å½¢æˆäº†ä¸Šè¿°çš„å‡ ä¸ªé‡è¦å¯¹è±¡ï¼Œæ„å»ºåˆå§‹åŒ–Reactåˆæˆäº‹ä»¶å’ŒåŸç”Ÿäº‹ä»¶çš„å¯¹åº”å…³ç³»ï¼Œåˆæˆäº‹ä»¶å’Œå¯¹åº”çš„äº‹ä»¶å¤„ç†æ’ä»¶å…³ç³»ã€‚æ¥ä¸‹æ¥å°±æ˜¯äº‹ä»¶ç»‘å®šé˜¶æ®µã€‚")]),e._v(" "),t("h1",{attrs:{id:"ä¸‰-äº‹ä»¶ç»‘å®š-ä»ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶å¼€å§‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰-äº‹ä»¶ç»‘å®š-ä»ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶å¼€å§‹"}},[e._v("#")]),e._v(" ä¸‰ äº‹ä»¶ç»‘å®š-ä»ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶å¼€å§‹")]),e._v(" "),t("h2",{attrs:{id:"äº‹ä»¶ç»‘å®šæµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶ç»‘å®šæµç¨‹"}},[e._v("#")]),e._v(" äº‹ä»¶ç»‘å®šæµç¨‹")]),e._v(" "),t("p",[e._v("å¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªç»„ä»¶ä¸­è¿™ä¹ˆå†™ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œ"),t("code",[e._v("React")]),e._v("ä¼šä¸€æ­¥æ­¥å¦‚ä½•å¤„ç†ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_1-diffproperties-å¤„ç†reactåˆæˆäº‹ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-diffproperties-å¤„ç†reactåˆæˆäº‹ä»¶"}},[e._v("#")]),e._v(" 1 diffProperties å¤„ç†Reactåˆæˆäº‹ä»¶")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<div>\n  <button onClick={ this.handerClick }  className="button" >ç‚¹å‡»</button>\n</div>\n')])])]),t("p",[e._v("ç¬¬ä¸€æ­¥ï¼Œé¦–å…ˆé€šè¿‡ä¸Šé¢çš„è®²è§£ï¼Œæˆ‘ä»¬ç»‘å®šç»™hostComponentç§ç±»çš„fiber(å¦‚ä¸Šçš„buttonå…ƒç´ )ï¼Œä¼š "),t("code",[e._v("button")]),e._v(" å¯¹åº”çš„fiberä¸Šï¼Œä»¥"),t("code",[e._v("memoizedProps")]),e._v(" å’Œ "),t("code",[e._v("pendingProps")]),e._v("å½¢æˆä¿å­˜ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("button å¯¹åº” fiber\nmemoizedProps = {\n   onClick:function handerClick(){},\n   className:'button'\n}\n")])])]),t("p",[e._v("ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š")]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("58E6A4AF-1902-42BC-9D11-B47234037E01.jpg")]),e._v(" "),t("p",[e._v("ç¬¬äºŒæ­¥ï¼ŒReactåœ¨è°ƒåˆå­èŠ‚ç‚¹åï¼Œè¿›å…¥diffé˜¶æ®µï¼Œå¦‚æœåˆ¤æ–­æ˜¯"),t("code",[e._v("HostComponent")]),e._v("(domå…ƒç´ )ç±»å‹çš„fiberï¼Œä¼šç”¨diff propså‡½æ•°"),t("code",[e._v("diffProperties")]),e._v("å•ç‹¬å¤„ç†ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("react-dom/src/client/ReactDOMComponent.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function diffProperties(){\n    /* åˆ¤æ–­å½“å‰çš„ propKey æ˜¯ä¸æ˜¯ Reactåˆæˆäº‹ä»¶ */\n    if(registrationNameModules.hasOwnProperty(propKey)){\n         /* è¿™é‡Œå¤šä¸ªå‡½æ•°ç®€åŒ–äº†ï¼Œå¦‚æœæ˜¯åˆæˆäº‹ä»¶ï¼Œ ä¼ å…¥æˆäº‹ä»¶åç§° onClick ï¼Œå‘documentæ³¨å†Œäº‹ä»¶  */\n         legacyListenToEvent(registrationName, documentï¼‰;\n    }\n}\n")])])]),t("p",[t("code",[e._v("diffProperties")]),e._v("å‡½æ•°åœ¨ "),t("code",[e._v("diff props")]),e._v(" å¦‚æœå‘ç°æ˜¯åˆæˆäº‹ä»¶("),t("code",[e._v("onClick")]),e._v(") å°±ä¼šè°ƒç”¨"),t("code",[e._v("legacyListenToEvent")]),e._v("å‡½æ•°ã€‚æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_2-legacylistentoevent-æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-legacylistentoevent-æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨"}},[e._v("#")]),e._v(" 2 legacyListenToEvent æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨")]),e._v(" "),t("blockquote",[t("p",[e._v("react-dom/src/events/DOMLegacyEventPluginSystem.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("//  registrationName -> onClick äº‹ä»¶\n//  mountAt -> document or container\nfunction legacyListenToEvent(registrationNameï¼ŒmountAt){\n   const dependencies = registrationNameDependencies[registrationName]; // æ ¹æ® onClick è·å–  onClick ä¾èµ–çš„äº‹ä»¶æ•°ç»„ [ 'click' ]ã€‚\n    for (let i = 0; i < dependencies.length; i++) {\n    const dependency = dependencies[i];\n    //è¿™ä¸ªç»è¿‡å¤šä¸ªå‡½æ•°ç®€åŒ–ï¼Œå¦‚æœæ˜¯ click åŸºç¡€äº‹ä»¶ï¼Œä¼šèµ° legacyTrapBubbledEvent ,è€Œä¸”éƒ½æ˜¯æŒ‰ç…§å†’æ³¡å¤„ç†\n     legacyTrapBubbledEvent(dependency, mountAt);\n  }\n}\n")])])]),t("p",[e._v("legacyTrapBubbledEvent å°±æ˜¯æ‰§è¡Œå°†ç»‘å®šçœŸæ­£çš„domäº‹ä»¶çš„å‡½æ•° legacyTrapBubbledEvent(å†’æ³¡å¤„ç†)ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function legacyTrapBubbledEvent(topLevelType,element){\n   addTrappedEventListener(element,topLevelType,PLUGIN_EVENT_SYSTEM,false)\n}\n")])])]),t("p",[e._v("ç¬¬ä¸‰æ­¥ï¼šåœ¨"),t("code",[e._v("legacyListenToEvent")]),e._v("å‡½æ•°ä¸­ï¼Œå…ˆæ‰¾åˆ° "),t("code",[e._v("React")]),e._v(" åˆæˆäº‹ä»¶å¯¹åº”çš„åŸç”Ÿäº‹ä»¶é›†åˆï¼Œæ¯”å¦‚ onClick -> ['click'] , onChange -> ["),t("code",[e._v("blur")]),e._v(" , "),t("code",[e._v("change")]),e._v(" , "),t("code",[e._v("input")]),e._v(" , "),t("code",[e._v("keydown")]),e._v(" , "),t("code",[e._v("keyup")]),e._v("]ï¼Œç„¶åéå†ä¾èµ–é¡¹çš„æ•°ç»„ï¼Œç»‘å®šäº‹ä»¶ï¼Œ"),t("strong",[e._v("è¿™å°±è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨åˆšå¼€å§‹çš„demoä¸­ï¼Œåªç»™å…ƒç´ ç»‘å®šäº†ä¸€ä¸ª"),t("code",[e._v("onChange")]),e._v("äº‹ä»¶ï¼Œç»“æœåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šå‡ºç°å¾ˆå¤šäº‹ä»¶ç›‘å¬å™¨çš„åŸå› ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªå‡½æ•°ä¸Šå¤„ç†çš„ã€‚")])]),e._v(" "),t("p",[e._v("æˆ‘ä»¬ä¸Šé¢å·²ç»é€éœ²äº†Reactæ˜¯é‡‡ç”¨äº‹ä»¶ç»‘å®šï¼Œ"),t("code",[e._v("React")]),e._v(" å¯¹äº "),t("code",[e._v("click")]),e._v(" ç­‰åŸºç¡€äº‹ä»¶ï¼Œä¼šé»˜è®¤æŒ‰ç…§äº‹ä»¶å†’æ³¡é˜¶æ®µçš„äº‹ä»¶å¤„ç†ï¼Œ"),t("strong",[e._v("ä¸è¿‡è¿™ä¹Ÿä¸ç»å¯¹çš„ï¼Œæ¯”å¦‚ä¸€äº›äº‹ä»¶çš„å¤„ç†ï¼Œæœ‰äº›ç‰¹æ®Šçš„äº‹ä»¶æ˜¯æŒ‰ç…§äº‹ä»¶æ•è·å¤„ç†çš„ã€‚")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("case TOP_SCROLL: {                                // scroll äº‹ä»¶\n    legacyTrapCapturedEvent(TOP_SCROLL, mountAt); // legacyTrapCapturedEvent äº‹ä»¶æ•è·å¤„ç†ã€‚\n    break;\n}\ncase TOP_FOCUS: // focus äº‹ä»¶\ncase TOP_BLUR:  // blur äº‹ä»¶\nlegacyTrapCapturedEvent(TOP_FOCUS, mountAt);\nlegacyTrapCapturedEvent(TOP_BLUR, mountAt);\nbreak;\n")])])]),t("h3",{attrs:{id:"_3-ç»‘å®š-dispatchevent-è¿›è¡Œäº‹ä»¶ç›‘å¬"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç»‘å®š-dispatchevent-è¿›è¡Œäº‹ä»¶ç›‘å¬"}},[e._v("#")]),e._v(" 3 ç»‘å®š dispatchEventï¼Œè¿›è¡Œäº‹ä»¶ç›‘å¬")]),e._v(" "),t("p",[e._v("å¦‚ä¸Šè¿°çš„"),t("code",[e._v("scroll")]),e._v("äº‹ä»¶ï¼Œ"),t("code",[e._v("focus")]),e._v(" äº‹ä»¶ ï¼Œ"),t("code",[e._v("blur")]),e._v("äº‹ä»¶ç­‰ï¼Œæ˜¯é»˜è®¤æŒ‰ç…§äº‹ä»¶æ•è·é€»è¾‘å¤„ç†ã€‚æ¥ä¸‹æ¥å°±æ˜¯æœ€é‡è¦å…³é”®çš„ä¸€æ­¥ã€‚Reactæ˜¯å¦‚ä½•ç»‘å®šäº‹ä»¶åˆ°"),t("code",[e._v("document")]),e._v("ï¼Ÿäº‹ä»¶å¤„ç†å‡½æ•°å‡½æ•°åˆæ˜¯ä»€ä¹ˆï¼Ÿé—®é¢˜éƒ½æŒ‡å‘äº†ä¸Šè¿°çš„"),t("code",[e._v("addTrappedEventListener")]),e._v("ï¼Œè®©æˆ‘ä»¬æ¥æ­å¼€å®ƒçš„é¢çº±ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/*\n  targetContainer -> document\n  topLevelType ->  click\n  capture = false\n*/\nfunction addTrappedEventListener(targetContainer,topLevelType,eventSystemFlags,capture){\n   const listener = dispatchEvent.bind(null,topLevelType,eventSystemFlags,targetContainer) \n   if(capture){\n       // äº‹ä»¶æ•è·é˜¶æ®µå¤„ç†å‡½æ•°ã€‚\n   }else{\n       /* TODO: é‡è¦, è¿™é‡Œè¿›è¡ŒçœŸæ­£çš„äº‹ä»¶ç»‘å®šã€‚*/\n      targetContainer.addEventListener(topLevelType,listener,false) // document.addEventListener('click',listener,false)\n   }\n}\n")])])]),t("p",[e._v("ç¬¬å››æ­¥ï¼šè¿™ä¸ªå‡½æ•°å†…å®¹è™½ç„¶ä¸å¤šï¼Œä½†æ˜¯å´éå¸¸é‡è¦,é¦–å…ˆç»‘å®šæˆ‘ä»¬çš„äº‹ä»¶ç»Ÿä¸€å¤„ç†å‡½æ•° "),t("code",[e._v("dispatchEvent")]),e._v("ï¼Œç»‘å®šå‡ ä¸ªé»˜è®¤å‚æ•°ï¼Œäº‹ä»¶ç±»å‹ "),t("code",[e._v("topLevelType")]),e._v(" demoä¸­çš„"),t("code",[e._v("click")]),e._v(" ï¼Œè¿˜æœ‰ç»‘å®šçš„å®¹å™¨"),t("code",[e._v("doucment")]),e._v("ã€‚"),t("strong",[e._v("ç„¶åçœŸæ­£çš„äº‹ä»¶ç»‘å®š,æ·»åŠ äº‹ä»¶ç›‘å¬å™¨"),t("code",[e._v("addEventListener")]),e._v("ã€‚")]),e._v(" äº‹ä»¶ç»‘å®šé˜¶æ®µå®Œæ¯•ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_4-äº‹ä»¶ç»‘å®šè¿‡ç¨‹æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-äº‹ä»¶ç»‘å®šè¿‡ç¨‹æ€»ç»“"}},[e._v("#")]),e._v(" 4 äº‹ä»¶ç»‘å®šè¿‡ç¨‹æ€»ç»“")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬æ¥åšä¸€ä¸‹äº‹ä»¶ç»‘å®šé˜¶æ®µçš„æ€»ç»“ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("â‘  åœ¨Reactï¼Œdiff DOMå…ƒç´ ç±»å‹çš„fiberçš„propsçš„æ—¶å€™ï¼Œ å¦‚æœå‘ç°æ˜¯Reactåˆæˆäº‹ä»¶ï¼Œæ¯”å¦‚"),t("code",[e._v("onClick")]),e._v("ï¼Œä¼šæŒ‰ç…§äº‹ä»¶ç³»ç»Ÿé€»è¾‘å•ç‹¬å¤„ç†ã€‚")]),e._v(" "),t("li",[e._v("â‘¡ æ ¹æ®Reactåˆæˆäº‹ä»¶ç±»å‹ï¼Œæ‰¾åˆ°å¯¹åº”çš„åŸç”Ÿäº‹ä»¶çš„ç±»å‹ï¼Œç„¶åè°ƒç”¨åˆ¤æ–­åŸç”Ÿäº‹ä»¶ç±»å‹ï¼Œå¤§éƒ¨åˆ†äº‹ä»¶éƒ½æŒ‰ç…§å†’æ³¡é€»è¾‘å¤„ç†ï¼Œå°‘æ•°äº‹ä»¶ä¼šæŒ‰ç…§æ•è·é€»è¾‘å¤„ç†ï¼ˆæ¯”å¦‚"),t("code",[e._v("scroll")]),e._v("äº‹ä»¶ï¼‰ã€‚")]),e._v(" "),t("li",[e._v("â‘¢ è°ƒç”¨ addTrappedEventListener è¿›è¡ŒçœŸæ­£çš„äº‹ä»¶ç»‘å®šï¼Œç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šï¼Œ"),t("code",[e._v("dispatchEvent")]),e._v(" ä¸ºç»Ÿä¸€çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚")]),e._v(" "),t("li",[e._v("â‘£ "),t("strong",[e._v("æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„: åªæœ‰ä¸Šè¿°é‚£å‡ ä¸ªç‰¹æ®Šäº‹ä»¶æ¯”å¦‚ "),t("code",[e._v("scorll")]),e._v(","),t("code",[e._v("focus")]),e._v(","),t("code",[e._v("blur")]),e._v("ç­‰æ˜¯åœ¨äº‹ä»¶æ•è·é˜¶æ®µå‘ç”Ÿçš„ï¼Œå…¶ä»–çš„éƒ½æ˜¯åœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µå‘ç”Ÿçš„ï¼Œæ— è®ºæ˜¯"),t("code",[e._v("onClick")]),e._v("è¿˜æ˜¯"),t("code",[e._v("onClickCapture")]),e._v("éƒ½æ˜¯å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µ")]),e._v("ï¼Œè‡³äº React æœ¬èº«æ€ä¹ˆå¤„ç†æ•è·é€»è¾‘çš„ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥ä¼šè®²åˆ°ã€‚")])]),e._v(" "),t("h1",{attrs:{id:"å››-äº‹ä»¶è§¦å‘-ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶-åœ¨reactåº•å±‚ç³»ç»Ÿä¼šå‘ç”Ÿä»€ä¹ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››-äº‹ä»¶è§¦å‘-ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶-åœ¨reactåº•å±‚ç³»ç»Ÿä¼šå‘ç”Ÿä»€ä¹ˆ"}},[e._v("#")]),e._v(" å›› äº‹ä»¶è§¦å‘-ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨"),t("code",[e._v("react")]),e._v("åº•å±‚ç³»ç»Ÿä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<div>\n  <button onClick={ this.handerClick }  className="button" >ç‚¹å‡»</button>\n</div>\n')])])]),t("p",[e._v("è¿˜æ˜¯ä¸Šé¢è¿™æ®µä»£ç ç‰‡æ®µï¼Œå½“ç‚¹å‡»ä¸€ä¸‹æŒ‰é’®ï¼Œåœ¨ "),t("code",[e._v("React")]),e._v(" åº•å±‚ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œè®©æˆ‘å…±åŒæ¢ç´¢äº‹ä»¶è§¦å‘çš„å¥¥ç§˜ã€‚")]),e._v(" "),t("h2",{attrs:{id:"äº‹ä»¶è§¦å‘å¤„ç†å‡½æ•°-dispatchevent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶è§¦å‘å¤„ç†å‡½æ•°-dispatchevent"}},[e._v("#")]),e._v(" äº‹ä»¶è§¦å‘å¤„ç†å‡½æ•° dispatchEvent")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬åœ¨äº‹ä»¶ç»‘å®šé˜¶æ®µè®²è¿‡ï¼ŒReactäº‹ä»¶æ³¨å†Œæ—¶å€™ï¼Œç»Ÿä¸€çš„ç›‘å¬å™¨"),t("code",[e._v("dispatchEvent")]),e._v("ï¼Œä¹Ÿå°±æ˜¯å½“æˆ‘ä»¬"),t("strong",[e._v("ç‚¹å‡»æŒ‰é’®ä¹‹åï¼Œé¦–å…ˆæ‰§è¡Œçš„æ˜¯"),t("code",[e._v("dispatchEvent")]),e._v("å‡½æ•°")]),e._v("ï¼Œå› ä¸º"),t("code",[e._v("dispatchEvent")]),e._v("å‰ä¸‰ä¸ªå‚æ•°å·²ç»è¢«bindäº†è¿›å»ï¼Œæ‰€ä»¥çœŸæ­£çš„äº‹ä»¶æºå¯¹è±¡"),t("code",[e._v("event")]),e._v("ï¼Œè¢«é»˜è®¤ç»‘å®šæˆç¬¬å››ä¸ªå‚æ•°ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("react-dom/src/events/ReactDOMEventListener.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function dispatchEvent(topLevelType,eventSystemFlags,targetContainer,nativeEvent){\n    /* å°è¯•è°ƒåº¦äº‹ä»¶ */\n    const blockedOn = attemptToDispatchEvent( topLevelType,eventSystemFlags, targetContainer, nativeEvent);\n}\n/*\ntopLevelType -> click\neventSystemFlags -> 1\ntargetContainer -> document\nnativeEvent -> åŸç”Ÿäº‹ä»¶çš„ event å¯¹è±¡\n*/\nfunction attemptToDispatchEvent(topLevelType,eventSystemFlags,targetContainer,nativeEvent){\n    /* è·å–åŸç”Ÿäº‹ä»¶ e.target */\n    const nativeEventTarget = getEventTarget(nativeEvent)\n    /* è·å–å½“å‰äº‹ä»¶ï¼Œæœ€è¿‘çš„domç±»å‹fiber ï¼Œæˆ‘ä»¬ demoä¸­ button æŒ‰é’®å¯¹åº”çš„ fiber */\n    let targetInst = getClosestInstanceFromNode(nativeEventTarget); \n    /* é‡è¦ï¼šè¿›å…¥legacyæ¨¡å¼çš„äº‹ä»¶å¤„ç†ç³»ç»Ÿ */\n    dispatchEventForLegacyPluginEventSystem(topLevelType,eventSystemFlags,nativeEvent,targetInst,);\n    return null;\n}\n")])])]),t("p",[e._v("åœ¨è¿™ä¸ªé˜¶æ®µä¸»è¦åšäº†è¿™å‡ ä»¶äº‹ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("â‘  é¦–å…ˆæ ¹æ®çœŸå®çš„äº‹ä»¶æºå¯¹è±¡ï¼Œæ‰¾åˆ° "),t("code",[e._v("e.target")]),e._v(" çœŸå®çš„ "),t("code",[e._v("dom")]),e._v(" å…ƒç´ ã€‚")]),e._v(" "),t("li",[e._v("â‘¡ ç„¶åæ ¹æ®"),t("code",[e._v("dom")]),e._v("å…ƒç´ ï¼Œæ‰¾åˆ°ä¸å®ƒå¯¹åº”çš„ "),t("code",[e._v("fiber")]),e._v(" å¯¹è±¡"),t("code",[e._v("targetInst")]),e._v("ï¼Œåœ¨æˆ‘ä»¬ "),t("code",[e._v("demo")]),e._v(" ä¸­ï¼Œæ‰¾åˆ° "),t("code",[e._v("button")]),e._v(" æŒ‰é’®å¯¹åº”çš„ "),t("code",[e._v("fiber")]),e._v("ã€‚")]),e._v(" "),t("li",[e._v("â‘¢ ç„¶åæ­£å¼è¿›å»"),t("code",[e._v("legacy")]),e._v("æ¨¡å¼çš„äº‹ä»¶å¤„ç†ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç›®å‰ç”¨çš„Reactæ¨¡å¼éƒ½æ˜¯"),t("code",[e._v("legacy")]),e._v("æ¨¡å¼ä¸‹çš„ï¼Œåœ¨è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œæ‰¹é‡æ›´æ–°åŸç†ï¼Œå³å°†æ‹‰å¼€å¸·å¹•ã€‚")])]),e._v(" "),t("p",[e._v("è¿™é‡Œæœ‰ä¸€ç‚¹é—®é¢˜ï¼Œ"),t("strong",[t("code",[e._v("React")]),e._v("æ€ä¹ˆæ ·é€šè¿‡åŸç”Ÿçš„"),t("code",[e._v("dom")]),e._v("å…ƒç´ ï¼Œæ‰¾åˆ°å¯¹åº”çš„"),t("code",[e._v("fiber")]),e._v("çš„å‘¢ï¼Ÿ")]),e._v(" ï¼Œä¹Ÿå°±æ˜¯è¯´ "),t("code",[e._v("getClosestInstanceFromNode")]),e._v(" åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),t("p",[e._v("ç­”æ¡ˆæ˜¯é¦–å…ˆ "),t("code",[e._v("getClosestInstanceFromNode")]),e._v(" å¯ä»¥æ‰¾åˆ°å½“å‰ä¼ å…¥çš„ "),t("code",[e._v("dom")]),e._v(" å¯¹åº”çš„æœ€è¿‘çš„å…ƒç´ ç±»å‹çš„ "),t("code",[e._v("fiber")]),e._v(" å¯¹è±¡ã€‚"),t("code",[e._v("React")]),e._v(" åœ¨åˆå§‹åŒ–çœŸå® "),t("code",[e._v("dom")]),e._v(" çš„æ—¶å€™ï¼Œç”¨ä¸€ä¸ªéšæœºçš„ "),t("code",[e._v("key internalInstanceKey")]),e._v(" æŒ‡é’ˆæŒ‡å‘äº†å½“å‰"),t("code",[e._v("dom")]),e._v("å¯¹åº”çš„"),t("code",[e._v("fiber")]),e._v("å¯¹è±¡ï¼Œ"),t("code",[e._v("fiber")]),e._v("å¯¹è±¡ç”¨"),t("code",[e._v("stateNode")]),e._v("æŒ‡å‘äº†å½“å‰çš„"),t("code",[e._v("dom")]),e._v("å…ƒç´ ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// å£°æ˜éšæœºkey\nvar internalInstanceKey = '__reactInternalInstance$' + randomKey;\n\n// ä½¿ç”¨éšæœºkey \nfunction getClosestInstanceFromNode(targetNode){\n  // targetNode -dom  targetInst -> ä¸ä¹‹å¯¹åº”çš„fiberå¯¹è±¡\n  var targetInst = targetNode[internalInstanceKey];\n}\n")])])]),t("p",[t("strong",[e._v("åœ¨è°·æ­Œè°ƒè¯•å™¨ä¸Šçœ‹")])]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("fiber_dom.jpg")]),e._v(" "),t("p",[t("strong",[e._v("ä¸¤è€…å…³ç³»å›¾")])]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("dom_fiber.jpg")]),e._v(" "),t("h2",{attrs:{id:"legacy-äº‹ä»¶å¤„ç†ç³»ç»Ÿä¸æ‰¹é‡æ›´æ–°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#legacy-äº‹ä»¶å¤„ç†ç³»ç»Ÿä¸æ‰¹é‡æ›´æ–°"}},[e._v("#")]),e._v(" legacy äº‹ä»¶å¤„ç†ç³»ç»Ÿä¸æ‰¹é‡æ›´æ–°")]),e._v(" "),t("blockquote",[t("p",[e._v("react-dom/src/events/DOMLegacyEventPluginSystem.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("/* topLevelType - clickäº‹ä»¶ ï½œ eventSystemFlags = 1 ï½œ nativeEvent = äº‹ä»¶æºå¯¹è±¡  ï½œ targetInst = å…ƒç´ å¯¹åº”çš„fiberå¯¹è±¡  */\nfunction dispatchEventForLegacyPluginEventSystem(topLevelType,eventSystemFlags,nativeEvent,targetInst){\n    /* ä»React äº‹ä»¶æ± ä¸­å–å‡ºä¸€ä¸ªï¼Œå°† topLevelType ï¼ŒtargetInst ç­‰å±æ€§èµ‹äºˆç»™äº‹ä»¶  */\n    const bookKeeping = getTopLevelCallbackBookKeeping(topLevelType,nativeEvent,targetInst,eventSystemFlags);\n    try { /* æ‰§è¡Œæ‰¹é‡æ›´æ–° handleTopLevel ä¸ºäº‹ä»¶å¤„ç†çš„ä¸»è¦å‡½æ•° */\n    batchedEventUpdates(handleTopLevel, bookKeeping);\n  } finally {\n    /* é‡Šæ”¾äº‹ä»¶æ±  */  \n    releaseTopLevelCallbackBookKeeping(bookKeeping);\n  }\n}\n")])])]),t("p",[e._v("å¯¹äºv16äº‹ä»¶æ± ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šè®²åˆ°ï¼Œé¦–å…ˆ "),t("code",[e._v("batchedEventUpdates")]),e._v("ä¸ºæ‰¹é‡æ›´æ–°çš„ä¸»è¦å‡½æ•°ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹"),t("code",[e._v("batchedEventUpdates")])]),e._v(" "),t("blockquote",[t("p",[e._v("react-dom/src/events/ReactDOMUpdateBatching.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export function batchedEventUpdates(fn,a){\n    isBatchingEventUpdates = true;\n    try{\n       fn(a) // handleTopLevel(bookKeeping)\n    }finally{\n        isBatchingEventUpdates = false\n    }\n}\n")])])]),t("p",[e._v("æ‰¹é‡æ›´æ–°ç®€åŒ–æˆå¦‚ä¸Šçš„æ ·å­ï¼Œä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒReacté€šè¿‡å¼€å…³"),t("code",[e._v("isBatchingEventUpdates")]),e._v("æ¥æ§åˆ¶æ˜¯å¦å¯ç”¨æ‰¹é‡æ›´æ–°ã€‚"),t("code",[e._v("fn(a)")]),e._v("ï¼Œäº‹ä»¶ä¸Šè°ƒç”¨çš„æ˜¯ "),t("code",[e._v("handleTopLevel(bookKeeping)")]),e._v("ï¼Œç”±äºjsæ˜¯å•çº¿ç¨‹çš„ï¼Œæˆ‘ä»¬çœŸæ­£åœ¨ç»„ä»¶ä¸­å†™çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ¯”å¦‚demo çš„ "),t("code",[e._v("handerClick")]),e._v("å®é™…æ‰§è¡Œæ˜¯åœ¨"),t("code",[e._v("handleTopLevel(bookKeeping)")]),e._v("ä¸­æ‰§è¡Œçš„ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬åœ¨"),t("code",[e._v("handerClick")]),e._v("é‡Œé¢è§¦å‘"),t("code",[e._v("setState")]),e._v("ï¼Œé‚£ä¹ˆå°±èƒ½è¯»å–åˆ°"),t("code",[e._v("isBatchingEventUpdates = true")]),e._v("è¿™å°±æ˜¯Reactçš„åˆæˆäº‹ä»¶ä¸ºä»€ä¹ˆå…·æœ‰æ‰¹é‡æ›´æ–°çš„åŠŸèƒ½äº†ã€‚æ¯”å¦‚æˆ‘ä»¬è¿™ä¹ˆå†™")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("state={number:0}\nhanderClick = () =>{\n    this.setState({number: this.state.number + 1   })\n    console.log(this.state.number) //0\n    this.setState({number: this.state.number + 1   })\n    console.log(this.state.number) //0\n    setTimeout(()=>{\n        this.setState({number: this.state.number + 1   })\n        console.log(this.state.number) //2\n        this.setState({number: this.state.number + 1   })\n        console.log(this.state.number)// 3\n    })\n}\n")])])]),t("p",[e._v("å¦‚ä¸Šè¿°æ‰€ç¤ºï¼Œç¬¬ä¸€ä¸ª"),t("code",[e._v("setState")]),e._v("å’Œç¬¬äºŒä¸ª"),t("code",[e._v("setState")]),e._v("åœ¨æ‰¹é‡æ›´æ–°æ¡ä»¶ä¹‹å†…æ‰§è¡Œï¼Œæ‰€ä»¥æ‰“å°ä¸ä¼šæ˜¯æœ€æ–°çš„å€¼ï¼Œä½†æ˜¯å¦‚æœæ˜¯å‘ç”Ÿåœ¨"),t("code",[e._v("setTimeout")]),e._v("ä¸­,ç”±äºeventLoop æ”¾åœ¨äº†ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œï¼Œæ­¤æ—¶ batchedEventUpdates ä¸­å·²ç»æ‰§è¡Œå®Œ"),t("code",[e._v("isBatchingEventUpdates = false")]),e._v("ï¼Œæ‰€ä»¥æ‰¹é‡æ›´æ–°è¢«æ‰“ç ´ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è®¿é—®åˆ°æœ€æ–°å˜åŒ–çš„å€¼äº†ã€‚")]),e._v(" "),t("p",[e._v("æ¥ä¸‹æ¥æˆ‘ä»¬æœ‰ä¸¤ç‚¹æ²¡æœ‰æ¢³ç†ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("ä¸€æ˜¯Reactäº‹ä»¶æ± æ¦‚å¿µ")]),e._v(" "),t("li",[e._v("äºŒæ˜¯æœ€åçš„çº¿ç´¢æ˜¯æ‰§è¡Œ"),t("code",[e._v("handleTopLevel(bookKeeping)")]),e._v("ï¼Œé‚£ä¹ˆ"),t("code",[e._v("handleTopLevel")]),e._v("åˆ°åº•åšäº†å†™ä»€ä¹ˆã€‚")])]),e._v(" "),t("h2",{attrs:{id:"æ‰§è¡Œäº‹ä»¶æ’ä»¶å‡½æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œäº‹ä»¶æ’ä»¶å‡½æ•°"}},[e._v("#")]),e._v(" æ‰§è¡Œäº‹ä»¶æ’ä»¶å‡½æ•°")]),e._v(" "),t("p",[e._v("ä¸Šé¢è¯´åˆ°æ•´ä¸ªäº‹ä»¶ç³»ç»Ÿï¼Œæœ€åæŒ‡å‘å‡½æ•° "),t("code",[e._v("handleTopLevel(bookKeeping)")]),e._v(" é‚£ä¹ˆ "),t("code",[e._v("handleTopLevel")]),e._v(" åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…ï¼Ÿ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// æµç¨‹ç®€åŒ–å\n// topLevelType - click  \n// targetInst - button Fiber\n// nativeEvent\nfunction handleTopLevel(bookKeeping){\n    const { topLevelType,targetInst,nativeEvent,eventTarget, eventSystemFlags} = bookKeeping\n    for(let i=0; i < plugins.length;i++ ){\n        const possiblePlugin = plugins[i];\n        /* æ‰¾åˆ°å¯¹åº”çš„äº‹ä»¶æ’ä»¶ï¼Œå½¢æˆå¯¹åº”çš„åˆæˆeventï¼Œå½¢æˆäº‹ä»¶æ‰§è¡Œé˜Ÿåˆ—  */\n        const  extractedEvents = possiblePlugin.extractEvents(topLevelType,targetInst,nativeEvent,eventTarget,eventSystemFlags)  \n    }\n    if (extractedEvents) {\n        events = accumulateInto(events, extractedEvents);\n    }\n    /* æ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•° */\n    runEventsInBatch(events);\n}\n")])])]),t("p",[e._v("æˆ‘æŠŠæ•´ä¸ªæµç¨‹ç®€åŒ–ï¼Œåªä¿ç•™äº†æ ¸å¿ƒçš„æµç¨‹ï¼Œ"),t("code",[e._v("handleTopLevel")]),e._v("æœ€åçš„å¤„ç†é€»è¾‘å°±æ˜¯æ‰§è¡Œæˆ‘ä»¬è¯´çš„äº‹ä»¶å¤„ç†æ’ä»¶(SimpleEventPlugin)ä¸­çš„å¤„ç†å‡½æ•°"),t("code",[e._v("extractEvents")]),e._v("ï¼Œæ¯”å¦‚æˆ‘ä»¬demoä¸­çš„ç‚¹å‡»äº‹ä»¶ onClick æœ€ç»ˆèµ°çš„å°±æ˜¯ "),t("code",[e._v("SimpleEventPlugin")]),e._v(" ä¸­çš„ "),t("code",[e._v("extractEvents")]),e._v(" å‡½æ•°ï¼Œé‚£ä¹ˆReactä¸ºä»€ä¹ˆè¿™ä¹ˆåšå‘¢? æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬Reactæ˜¯é‡‡å–äº‹ä»¶åˆæˆï¼Œäº‹ä»¶ç»Ÿä¸€ç»‘å®šï¼Œå¹¶ä¸”æˆ‘ä»¬å†™åœ¨ç»„ä»¶ä¸­çš„äº‹ä»¶å¤„ç†å‡½æ•°( handerClick )ï¼Œä¹Ÿä¸æ˜¯çœŸæ­£çš„æ‰§è¡Œå‡½æ•°"),t("code",[e._v("dispatchAciton")]),e._v("ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨"),t("code",[e._v("handerClick")]),e._v("çš„äº‹ä»¶å¯¹è±¡ "),t("code",[e._v("event")]),e._v(",ä¹Ÿæ˜¯Reactå•ç‹¬åˆæˆå¤„ç†çš„ï¼Œé‡Œé¢å•ç‹¬å°è£…äº†æ¯”å¦‚ "),t("code",[e._v("stopPropagation")]),e._v("å’Œ"),t("code",[e._v("preventDefault")]),e._v("ç­‰æ–¹æ³•ï¼Œ"),t("strong",[e._v("è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦è·¨æµè§ˆå™¨å•ç‹¬å¤„ç†å…¼å®¹é—®é¢˜ï¼Œäº¤ç»™Reactåº•å±‚ç»Ÿä¸€å¤„ç†ã€‚")])]),e._v(" "),t("h2",{attrs:{id:"extractevents-å½¢æˆäº‹ä»¶å¯¹è±¡event-å’Œ-äº‹ä»¶å¤„ç†å‡½æ•°é˜Ÿåˆ—"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extractevents-å½¢æˆäº‹ä»¶å¯¹è±¡event-å’Œ-äº‹ä»¶å¤„ç†å‡½æ•°é˜Ÿåˆ—"}},[e._v("#")]),e._v(" extractEvents å½¢æˆäº‹ä»¶å¯¹è±¡event å’Œ äº‹ä»¶å¤„ç†å‡½æ•°é˜Ÿåˆ—")]),e._v(" "),t("p",[t("strong",[e._v("é‡ç‚¹æ¥äº†ï¼é‡ç‚¹æ¥äº†ï¼é‡ç‚¹æ¥äº†ï¼")]),e._v("ï¼ŒextractEvents å¯ä»¥ä½œä¸ºæ•´ä¸ªäº‹ä»¶ç³»ç»Ÿæ ¸å¿ƒå‡½æ•°ï¼Œæˆ‘ä»¬å…ˆå›åˆ°æœ€åˆçš„"),t("code",[e._v("demo")]),e._v("ï¼Œå¦‚æœæˆ‘ä»¬è¿™ä¹ˆå†™,é‚£ä¹ˆå››ä¸ªå›è°ƒå‡½æ•°ï¼Œé‚£ä¹ˆç‚¹å‡»æŒ‰é’®ï¼Œå››ä¸ªäº‹ä»¶æ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ã€‚é¦–å…ˆå¦‚æœç‚¹å‡»æŒ‰é’®ï¼Œæœ€ç»ˆèµ°çš„å°±æ˜¯"),t("code",[e._v("extractEvents")]),e._v("å‡½æ•°ï¼Œä¸€æ¢ç©¶ç«Ÿè¿™ä¸ªå‡½æ•°ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("legacy-events/SyntheticEvent.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const  SimpleEventPlugin = {\n    extractEvents:function(topLevelType,targetInst,nativeEvent,nativeEventTarget){\n        const dispatchConfig = topLevelEventsToDispatchConfig.get(topLevelType);\n        if (!dispatchConfig) {\n            return null;\n        }\n        switch(topLevelType){\n            default:\n            EventConstructor = SyntheticEvent;\n            break;\n        }\n        /* äº§ç”Ÿäº‹ä»¶æºå¯¹è±¡ */\n        const event = EventConstructor.getPooled(dispatchConfig,targetInst,nativeEvent,nativeEventTarget)\n        const phasedRegistrationNames = event.dispatchConfig.phasedRegistrationNames;\n        const dispatchListeners = [];\n        const {bubbled, captured} = phasedRegistrationNames; /* onClick / onClickCapture */\n        const dispatchInstances = [];\n        /* ä»äº‹ä»¶æºå¼€å§‹é€æ¸å‘ä¸Šï¼ŒæŸ¥æ‰¾domå…ƒç´ ç±»å‹HostComponentå¯¹åº”çš„fiber ï¼Œæ”¶é›†ä¸Šé¢çš„Reactåˆæˆäº‹ä»¶ï¼ŒonClick / onClickCapture  */\n         while (instance !== null) {\n              const {stateNode, tag} = instance;\n              if (tag === HostComponent && stateNode !== null) { /* DOM å…ƒç´  */\n                   const currentTarget = stateNode;\n                   if (captured !== null) { /* äº‹ä»¶æ•è· */\n                        /* åœ¨äº‹ä»¶æ•è·é˜¶æ®µ,çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•° */\n                        const captureListener = getListener(instance, captured);\n                        if (captureListener != null) {\n                        /* å¯¹åº”å‘ç”Ÿåœ¨äº‹ä»¶æ•è·é˜¶æ®µçš„å¤„ç†å‡½æ•°ï¼Œé€»è¾‘æ˜¯å°†æ‰§è¡Œå‡½æ•°unshiftæ·»åŠ åˆ°é˜Ÿåˆ—çš„æœ€å‰é¢ */\n                            dispatchListeners.unshift(captureListener);\n                            dispatchInstances.unshift(instance);\n                            dispatchCurrentTargets.unshift(currentTarget);\n                        }\n                    }\n                    if (bubbled !== null) { /* äº‹ä»¶å†’æ³¡ */\n                        /* äº‹ä»¶å†’æ³¡é˜¶æ®µï¼ŒçœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œé€»è¾‘æ˜¯å°†æ‰§è¡Œå‡½æ•°pushåˆ°æ‰§è¡Œé˜Ÿåˆ—çš„æœ€åé¢ */\n                        const bubbleListener = getListener(instance, bubbled);\n                        if (bubbleListener != null) {\n                            dispatchListeners.push(bubbleListener);\n                            dispatchInstances.push(instance);\n                            dispatchCurrentTargets.push(currentTarget);\n                        }\n                    }\n              }\n              instance = instance.return;\n         }\n          if (dispatchListeners.length > 0) {\n              /* å°†å‡½æ•°æ‰§è¡Œé˜Ÿåˆ—ï¼ŒæŒ‚åˆ°äº‹ä»¶å¯¹è±¡eventä¸Š */\n            event._dispatchListeners = dispatchListeners;\n            event._dispatchInstances = dispatchInstances;\n            event._dispatchCurrentTargets = dispatchCurrentTargets;\n         }\n        return event\n    }\n}\n")])])]),t("p",[e._v("äº‹ä»¶æ’ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒ"),t("code",[e._v("extractEvents")]),e._v("ä¸»è¦åšçš„äº‹æ˜¯:")]),e._v(" "),t("ul",[t("li",[e._v("â‘  é¦–å…ˆå½¢æˆ"),t("code",[e._v("React")]),e._v("äº‹ä»¶ç‹¬æœ‰çš„åˆæˆäº‹ä»¶æºå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ï¼Œä¿å­˜äº†æ•´ä¸ªäº‹ä»¶çš„ä¿¡æ¯ã€‚å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°(handerClick)ã€‚")]),e._v(" "),t("li",[e._v("â‘¡ ç„¶åå£°æ˜äº‹ä»¶æ‰§è¡Œé˜Ÿåˆ— ï¼ŒæŒ‰ç…§"),t("code",[e._v("å†’æ³¡")]),e._v("å’Œ"),t("code",[e._v("æ•è·")]),e._v("é€»è¾‘ï¼Œä»äº‹ä»¶æºå¼€å§‹é€æ¸å‘ä¸Šï¼ŒæŸ¥æ‰¾domå…ƒç´ ç±»å‹HostComponentå¯¹åº”çš„fiber ï¼Œæ”¶é›†ä¸Šé¢çš„ "),t("code",[e._v("React")]),e._v(" åˆæˆäº‹ä»¶ï¼Œä¾‹å¦‚ "),t("code",[e._v("onClick")]),e._v(" / "),t("code",[e._v("onClickCapture")]),e._v(" ï¼Œå¯¹äºå†’æ³¡é˜¶æ®µçš„äº‹ä»¶("),t("code",[e._v("onClick")]),e._v(")ï¼Œå°† "),t("code",[e._v("push")]),e._v(" åˆ°æ‰§è¡Œé˜Ÿåˆ—åé¢ ï¼Œ å¯¹äºæ•è·é˜¶æ®µçš„äº‹ä»¶("),t("code",[e._v("onClickCapture")]),e._v(")ï¼Œå°† "),t("code",[e._v("unShift")]),e._v("åˆ°æ‰§è¡Œé˜Ÿåˆ—çš„å‰é¢ã€‚")]),e._v(" "),t("li",[e._v("â‘¢ æœ€åå°†äº‹ä»¶æ‰§è¡Œé˜Ÿåˆ—ï¼Œä¿å­˜åˆ°Reactäº‹ä»¶æºå¯¹è±¡ä¸Šã€‚ç­‰å¾…æ‰§è¡Œã€‚")])]),e._v(" "),t("p",[e._v("ä¸¾ä¸ªä¾‹å­æ¯”å¦‚å¦‚ä¸‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('handerClick = () => console.log(1)\nhanderClick1 = () => console.log(2)\nhanderClick2 = () => console.log(3) \nhanderClick3= () => console.log(4)\nrender(){\n    return <div onClick={ this.handerClick2 } onClickCapture={this.handerClick3}  > \n        <button onClick={ this.handerClick }  onClickCapture={ this.handerClick1  }  className="button" >ç‚¹å‡»</button>\n    </div>\n}\n')])])]),t("p",[e._v("æ‰“å° // 4  2  1  3")]),e._v(" "),t("p",[e._v("çœ‹åˆ°è¿™é‡Œæˆ‘ä»¬åº”è¯¥çŸ¥é“ä¸Šè¿°å‡½æ•°æ‰“å°é¡ºåºä¸ºä»€ä¹ˆäº†å§ï¼Œé¦–å…ˆéå† "),t("code",[e._v("button")]),e._v(" å¯¹åº”çš„fiberï¼Œé¦–å…ˆé‡åˆ°äº† "),t("code",[e._v("onClickCapture")]),e._v(" ,å°† "),t("code",[e._v("handerClick1")]),e._v(" æ”¾åˆ°äº†æ•°ç»„æœ€å‰é¢ï¼Œç„¶ååˆæŠŠ"),t("code",[e._v("onClick")]),e._v("å¯¹åº”"),t("code",[e._v("handerClick")]),e._v("çš„æ”¾åˆ°æ•°ç»„çš„æœ€åé¢ï¼Œå½¢æˆçš„ç»“æ„æ˜¯"),t("code",[e._v("[ handerClick1 , handerClick ]")]),e._v("ï¼Œ ç„¶åå‘ä¸Šéå†ï¼Œé‡åˆ°äº†"),t("code",[e._v("div")]),e._v("å¯¹åº”fiber,å°†"),t("code",[e._v("onClickCapture")]),e._v("å¯¹åº”çš„"),t("code",[e._v("handerClick3")]),e._v("æ”¾åœ¨äº†æ•°ç»„å‰é¢ï¼Œå°†"),t("code",[e._v("onClick")]),e._v("å¯¹åº”çš„ "),t("code",[e._v("handerClick2")]),e._v(" æ”¾åœ¨äº†æ•°ç»„åé¢ï¼Œå½¢æˆçš„ç»“æ„ "),t("code",[e._v("[ handerClick3,handerClick1 , handerClick,handerClick2 ]")]),e._v(" ,æ‰€ä»¥æ‰§è¡Œçš„é¡ºåº // 4  2  1  3ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå®Œç¾ï¼")]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("FDEBA681-2E03-420B-A838-5907439837A9.jpg")]),e._v(" "),t("h2",{attrs:{id:"äº‹ä»¶è§¦å‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶è§¦å‘"}},[e._v("#")]),e._v(" äº‹ä»¶è§¦å‘")]),e._v(" "),t("p",[e._v("æœ‰çš„åŒå­¦å¯èƒ½å¥½å¥‡Reactçš„äº‹ä»¶æºå¯¹è±¡æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä»¥ä¸Šé¢ä»£ç ä¸­"),t("code",[e._v("SyntheticEvent")]),e._v("ä¸ºä¾‹å­æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ï¼š")]),e._v(" "),t("blockquote",[t("p",[e._v("legacy-events/SyntheticEvent.js/")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function SyntheticEvent( dispatchConfig,targetInst,nativeEvent,nativeEventTarget){\n  this.dispatchConfig = dispatchConfig;\n  this._targetInst = targetInst;\n  this.nativeEvent = nativeEvent;\n  this._dispatchListeners = null;\n  this._dispatchInstances = null;\n  this._dispatchCurrentTargets = null;\n  this.isPropagationStopped = () => false; /* åˆå§‹åŒ–ï¼Œè¿”å›ä¸ºfalse  */\n\n}\nSyntheticEvent.prototype={\n    stopPropagation(){ this.isPropagationStopped = () => true;  }, /* Reactå•ç‹¬å¤„ç†ï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡å‡½æ•° */\n    preventDefault(){ },  /* Reactå•ç‹¬å¤„ç†ï¼Œé˜»æ­¢äº‹ä»¶æ•è·å‡½æ•°  */\n    ...\n}\n")])])]),t("p",[e._v("åœ¨ "),t("code",[e._v("handerClick")]),e._v(" ä¸­æ‰“å° "),t("code",[e._v("e")]),e._v(" :")]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("B9180401-93FF-4EF0-A2FB-C2FA43B29550.jpg")]),e._v(" "),t("p",[e._v("æ—¢ç„¶äº‹ä»¶æ‰§è¡Œé˜Ÿåˆ—å’Œäº‹ä»¶æºå¯¹è±¡éƒ½å½¢æˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æœ€åä¸€æ­¥"),t("strong",[e._v("äº‹ä»¶è§¦å‘")]),e._v("äº†ã€‚ä¸Šé¢å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°ä¸€ä¸ªå‡½æ•°"),t("code",[e._v("runEventsInBatch")]),e._v("ï¼Œæ‰€æœ‰äº‹ä»¶ç»‘å®šå‡½æ•°ï¼Œå°±æ˜¯åœ¨è¿™é‡Œè§¦å‘çš„ã€‚è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("legacy-events/EventBatching.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function runEventsInBatch(){\n    const dispatchListeners = event._dispatchListeners;\n    const dispatchInstances = event._dispatchInstances;\n    if (Array.isArray(dispatchListeners)) {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) { /* åˆ¤æ–­æ˜¯å¦å·²ç»é˜»æ­¢äº‹ä»¶å†’æ³¡ */\n        break;\n      }\n      \n      dispatchListeners[i](event)\n    }\n  }\n  /* æ‰§è¡Œå®Œå‡½æ•°ï¼Œç½®ç©ºä¸¤å­—æ®µ */\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n}\n")])])]),t("p",[t("code",[e._v("dispatchListeners[i](event)")]),e._v("å°±æ˜¯æ‰§è¡Œæˆ‘ä»¬çš„äº‹ä»¶å¤„ç†å‡½æ•°æ¯”å¦‚"),t("code",[e._v("handerClick")]),e._v(",ä»è¿™é‡Œæˆ‘ä»¬çŸ¥é“ï¼Œ"),t("strong",[e._v("æˆ‘ä»¬åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œè¿”å› false ï¼Œå¹¶ä¸ä¼šé˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸º")]),e._v("ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("handerClick(){ //å¹¶ä¸èƒ½é˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸ºã€‚\n    return false\n}\n")])])]),t("p",[e._v("åº”è¯¥æ”¹æˆè¿™æ ·ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("handerClick(e){\n    e.preventDefault()\n}\n")])])]),t("p",[e._v("å¦ä¸€æ–¹é¢Reactå¯¹äºé˜»æ­¢å†’æ³¡ï¼Œå°±æ˜¯é€šè¿‡isPropagationStoppedï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»é˜»æ­¢äº‹ä»¶å†’æ³¡ã€‚å¦‚æœæˆ‘ä»¬åœ¨äº‹ä»¶å‡½æ•°æ‰§è¡Œé˜Ÿåˆ—ä¸­ï¼ŒæŸä¸€ä¼šå‡½æ•°ä¸­ï¼Œè°ƒç”¨"),t("code",[e._v("e.stopPropagation()")]),e._v("ï¼Œå°±ä¼šèµ‹å€¼ç»™"),t("code",[e._v("isPropagationStopped=()=>true")]),e._v("ï¼Œå½“å†æ‰§è¡Œ "),t("code",[e._v("e.isPropagationStopped()")]),e._v("å°±ä¼šè¿”å› "),t("code",[e._v("true")]),e._v(" ,æ¥ä¸‹æ¥äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå°±ä¸ä¼šæ‰§è¡Œäº†ã€‚")]),e._v(" "),t("h2",{attrs:{id:"å…¶ä»–æ¦‚å¿µ-äº‹ä»¶æ± "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–æ¦‚å¿µ-äº‹ä»¶æ± "}},[e._v("#")]),e._v(" å…¶ä»–æ¦‚å¿µ-äº‹ä»¶æ± ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" handerClick = (e) => {\n    console.log(e.target) // button \n    setTimeout(()=>{\n        console.log(e.target) // null\n    },0)\n}\n")])])]),t("p",[e._v("å¯¹äºä¸€æ¬¡ç‚¹å‡»äº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œåœ¨æ­£å¸¸çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰“å°"),t("code",[e._v("e.target")]),e._v("å°±æŒ‡å‘äº†"),t("code",[e._v("dom")]),e._v("å…ƒç´ ï¼Œä½†æ˜¯åœ¨"),t("code",[e._v("setTimeout")]),e._v("ä¸­æ‰“å°å´æ˜¯"),t("code",[e._v("null")]),e._v("ï¼Œå¦‚æœè¿™ä¸æ˜¯Reactäº‹ä»¶ç³»ç»Ÿï¼Œä¸¤æ¬¡æ‰“å°çš„åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¸¤æ¬¡æ‰“å°ä¸ä¸€æ ·å‘¢ï¼Ÿ"),t("strong",[e._v("å› ä¸ºåœ¨Reacté‡‡å–äº†ä¸€ä¸ªäº‹ä»¶æ± çš„æ¦‚å¿µï¼Œæ¯æ¬¡æˆ‘ä»¬ç”¨çš„äº‹ä»¶æºå¯¹è±¡ï¼Œåœ¨äº‹ä»¶å‡½æ•°æ‰§è¡Œä¹‹åï¼Œå¯ä»¥é€šè¿‡"),t("code",[e._v("releaseTopLevelCallbackBookKeeping")]),e._v("ç­‰æ–¹æ³•å°†äº‹ä»¶æºå¯¹è±¡é‡Šæ”¾åˆ°äº‹ä»¶æ± ä¸­ï¼Œè¿™æ ·çš„å¥½å¤„æ¯æ¬¡æˆ‘ä»¬ä¸å¿…å†åˆ›å»ºäº‹ä»¶æºå¯¹è±¡ï¼Œå¯ä»¥ä»äº‹ä»¶æ± ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶æºå¯¹è±¡è¿›è¡Œå¤ç”¨ï¼Œåœ¨äº‹ä»¶å¤„ç†å‡½æ•°æ‰§è¡Œå®Œæ¯•å,ä¼šé‡Šæ”¾äº‹ä»¶æºåˆ°äº‹ä»¶æ± ä¸­ï¼Œæ¸…ç©ºå±æ€§ï¼Œè¿™å°±æ˜¯"),t("code",[e._v("setTimeout")]),e._v("ä¸­æ‰“å°ä¸ºä»€ä¹ˆæ˜¯"),t("code",[e._v("null")]),e._v("çš„åŸå› äº†ã€‚")])]),e._v(" "),t("h2",{attrs:{id:"äº‹ä»¶è§¦å‘æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶è§¦å‘æ€»ç»“"}},[e._v("#")]),e._v(" äº‹ä»¶è§¦å‘æ€»ç»“")]),e._v(" "),t("p",[e._v("æˆ‘æŠŠäº‹ä»¶è§¦å‘é˜¶æ®µåšçš„äº‹æ€»ç»“ä¸€ä¸‹ï¼š")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("â‘ é¦–å…ˆé€šè¿‡ç»Ÿä¸€çš„äº‹ä»¶å¤„ç†å‡½æ•° "),t("code",[e._v("dispatchEvent")]),e._v(",è¿›è¡Œæ‰¹é‡æ›´æ–°batchUpdateã€‚")])]),e._v(" "),t("li",[t("strong",[e._v("â‘¡ç„¶åæ‰§è¡Œäº‹ä»¶å¯¹åº”çš„å¤„ç†æ’ä»¶ä¸­çš„"),t("code",[e._v("extractEvents")]),e._v("ï¼Œåˆæˆäº‹ä»¶æºå¯¹è±¡,æ¯æ¬¡Reactä¼šä»äº‹ä»¶æºå¼€å§‹ï¼Œä»ä¸Šéå†ç±»å‹ä¸º hostComponentå³ domç±»å‹çš„fiber,åˆ¤æ–­propsä¸­æ˜¯å¦æœ‰å½“å‰äº‹ä»¶æ¯”å¦‚onClick,æœ€ç»ˆå½¢æˆä¸€ä¸ªäº‹ä»¶æ‰§è¡Œé˜Ÿåˆ—ï¼ŒReactå°±æ˜¯ç”¨è¿™ä¸ªé˜Ÿåˆ—ï¼Œæ¥æ¨¡æ‹Ÿäº‹ä»¶æ•è·->äº‹ä»¶æº->äº‹ä»¶å†’æ³¡è¿™ä¸€è¿‡ç¨‹ã€‚")])]),e._v(" "),t("li",[t("strong",[e._v("â‘¢æœ€åé€šè¿‡"),t("code",[e._v("runEventsInBatch")]),e._v("æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ï¼Œå¦‚æœå‘ç°é˜»æ­¢å†’æ³¡ï¼Œé‚£ä¹ˆbreakè·³å‡ºå¾ªç¯ï¼Œæœ€åé‡ç½®äº‹ä»¶æºï¼Œæ”¾å›åˆ°äº‹ä»¶æ± ä¸­ï¼Œå®Œæˆæ•´ä¸ªæµç¨‹ã€‚")])])]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("evnent_click.jpg")]),e._v(" "),t("h1",{attrs:{id:"äº”-å…³äºreact-v17ç‰ˆæœ¬çš„äº‹ä»¶ç³»ç»Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº”-å…³äºreact-v17ç‰ˆæœ¬çš„äº‹ä»¶ç³»ç»Ÿ"}},[e._v("#")]),e._v(" äº” å…³äºreact v17ç‰ˆæœ¬çš„äº‹ä»¶ç³»ç»Ÿ")]),e._v(" "),t("p",[e._v("React v17 æ•´ä½“æ”¹åŠ¨ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯äº‹ä»¶ç³»ç»Ÿçš„æ”¹åŠ¨å´ä¸å°ï¼Œé¦–å…ˆä¸Šè¿°çš„å¾ˆå¤šæ‰§è¡Œå‡½æ•°ï¼Œåœ¨v17ç‰ˆæœ¬ä¸å¤å­˜åœ¨äº†ã€‚æˆ‘æ¥ç®€å•æè¿°ä¸€ä¸‹v17äº‹ä»¶ç³»ç»Ÿçš„æ”¹ç‰ˆã€‚")]),e._v(" "),t("p",[t("strong",[e._v("1 äº‹ä»¶ç»Ÿä¸€ç»‘å®šcontainerä¸Šï¼ŒReactDOM.render(appï¼Œ container);è€Œä¸æ˜¯documentä¸Šï¼Œè¿™æ ·å¥½å¤„æ˜¯æœ‰åˆ©äºå¾®å‰ç«¯çš„ï¼Œå¾®å‰ç«¯ä¸€ä¸ªå‰ç«¯ç³»ç»Ÿä¸­å¯èƒ½æœ‰å¤šä¸ªåº”ç”¨ï¼Œå¦‚æœç»§ç»­é‡‡å–å…¨éƒ¨ç»‘å®šåœ¨"),t("code",[e._v("document")]),e._v("ä¸Šï¼Œé‚£ä¹ˆå¯èƒ½å¤šåº”ç”¨ä¸‹ä¼šå‡ºç°é—®é¢˜ã€‚")])]),e._v(" "),t("p",[t("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("react_17_delegation.png")]),e._v(" "),t("p",[t("strong",[e._v("2 å¯¹é½åŸç”Ÿæµè§ˆå™¨äº‹ä»¶")])]),e._v(" "),t("p",[t("code",[e._v("React 17")]),e._v("ä¸­ç»ˆäºæ”¯æŒäº†åŸç”Ÿæ•è·äº‹ä»¶çš„æ”¯æŒï¼Œ å¯¹é½äº†æµè§ˆå™¨åŸç”Ÿæ ‡å‡†ã€‚åŒæ—¶ "),t("code",[e._v("onScroll")]),e._v(" äº‹ä»¶ä¸å†è¿›è¡Œäº‹ä»¶å†’æ³¡ã€‚"),t("code",[e._v("onFocus")]),e._v(" å’Œ "),t("code",[e._v("onBlur")]),e._v(" ä½¿ç”¨åŸç”Ÿ "),t("code",[e._v("focusin")]),e._v("ï¼Œ "),t("code",[e._v("focusout")]),e._v(" åˆæˆã€‚")]),e._v(" "),t("p",[t("strong",[e._v("3 å–æ¶ˆäº‹ä»¶æ± ")]),t("code",[e._v("React 17")]),e._v("å–æ¶ˆäº‹ä»¶æ± å¤ç”¨ï¼Œä¹Ÿå°±è§£å†³äº†ä¸Šè¿°åœ¨"),t("code",[e._v("setTimeout")]),e._v("æ‰“å°ï¼Œæ‰¾ä¸åˆ°"),t("code",[e._v("e.target")]),e._v("çš„é—®é¢˜ã€‚")]),e._v(" "),t("h1",{attrs:{id:"å…­-æ€»ç»“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…­-æ€»ç»“"}},[e._v("#")]),e._v(" å…­ æ€»ç»“")]),e._v(" "),t("p",[e._v("æœ¬æ–‡ä»"),t("strong",[e._v("äº‹ä»¶åˆæˆ")]),e._v("ï¼Œ"),t("strong",[e._v("äº‹ä»¶ç»‘å®š")]),e._v("ï¼Œ"),t("strong",[e._v("äº‹ä»¶è§¦å‘")]),e._v("ä¸‰ä¸ªæ–¹é¢è¯¦ç»†ä»‹ç»äº†Reactäº‹ä»¶ç³»ç»ŸåŸç†ï¼Œå¸Œæœ›å¤§å®¶èƒ½é€šè¿‡è¿™ç¯‡æ–‡ç« æ›´åŠ æ·±å…¥äº†è§£v16 React äº‹ä»¶ç³»ç»Ÿï¼Œå¦‚æœæœ‰ç–‘é—®å’Œä¸è¶³ä¹‹å¤„ï¼Œä¹Ÿå¸Œæœ›å¤§å®¶èƒ½åœ¨è¯„è®ºåŒºæŒ‡å‡ºã€‚")]),e._v(" "),t("p",[e._v("æœ€å, é€äººç«ç‘°ï¼Œæ‰‹ç•™ä½™é¦™ï¼Œè§‰å¾—æœ‰æ”¶è·çš„æœ‹å‹å¯ä»¥ç»™ç¬”è€…"),t("strong",[e._v("ç‚¹èµï¼Œå…³æ³¨")]),e._v("ä¸€æ³¢ ï¼Œé™†ç»­æ›´æ–°å‰ç«¯è¶…ç¡¬æ ¸æ–‡ç« ã€‚")]),e._v(" "),t("p",[e._v("æå‰é€æ¼ï¼šæ¥ä¸‹æ¥ä¼šå‡ºä¸€éƒ¨æ­ç§˜"),t("code",[e._v("react")]),e._v("è°ƒåº¦ç³»ç»Ÿçš„æ–‡ç« ã€‚æ„Ÿå…´è¶£çš„åŒå­¦è¯·å…³æ³¨å…¬ä¼—å· "),t("strong",[e._v("å‰ç«¯Sharing")]),e._v(" ç¬¬ä¸€æ—¶é—´æ›´æ–°å‰ç«¯ç¡¬æ–‡ã€‚")]),e._v(" "),t("h2",{attrs:{id:"å¾€æœŸreactæ–‡ç« "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¾€æœŸreactæ–‡ç« "}},[e._v("#")]),e._v(" å¾€æœŸreactæ–‡ç« ")]),e._v(" "),t("p",[t("strong",[e._v("Reactè¿›é˜¶ç³»åˆ—")])]),e._v(" "),t("p",[t("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=Mzg5MjMxMzY5Mw==&mid=2247484812&idx=1&sn=d38f85074461912dfd53d5afb2a73646&chksm=cfc14cbef8b6c5a81095205f9f82c4b308455f36d261743807b3361e1d1fd5c612a25aaeca68&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€ŒReactè¿›é˜¶ã€ Reactå…¨éƒ¨apiè§£è¯»+åŸºç¡€å®è·µå¤§å…¨(å¤¯å®åŸºç¡€ä¸‡å­—æ€»ç»“)"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=Mzg5MjMxMzY5Mw==&mid=2247484634&idx=1&sn=618673960ee73b55df82efe886fd6cdd&chksm=cfc14de8f8b6c4fed909929339dd7ed4092af462de88150767173baea4a7fcb3e3ed501daefd&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Œreactè¿›é˜¶ã€ä¸€æ–‡åƒé€react-hooksåŸç†"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=Mzg5MjMxMzY5Mw==&mid=2247484613&idx=1&sn=c97b435638d9b21c8869d4e51e3a295a&chksm=cfc14df7f8b6c4e19707a17691c16f43282ad10abc0fb046d4bdf5e4a83e0057e6ab72510e1e&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Œreactè¿›é˜¶ã€ä¸€æ–‡åƒé€Reacté«˜é˜¶ç»„ä»¶(HOC)"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=Mzg5MjMxMzY5Mw==&mid=2247484275&idx=1&sn=d0a2f61cfaf0004d9683c7b940ce704e&chksm=cfc14a41f8b6c35772077397e778060c7849ff8a73faf2a38c570215b2d3c924d1d6e87a28b2&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Œreactè¿›é˜¶ã€å¹´ç»ˆé€ç»™reactå¼€å‘è€…çš„å…«æ¡ä¼˜åŒ–å»ºè®®"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"å‚è€ƒæ–‡æ¡£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡æ¡£"}},[e._v("#")]),e._v(" å‚è€ƒæ–‡æ¡£")]),e._v(" "),t("ul",[t("li",[e._v("reactæºç ")]),e._v(" "),t("li",[e._v("React äº‹ä»¶ç³»ç»Ÿå·¥ä½œåŸç†")])])])}),[],!1,null,null,null);t.default=v.exports}}]);